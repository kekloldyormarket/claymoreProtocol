(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{19900:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lbcs/token-offering/[mintKey]",function(){return t(92952)}])},92952:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return j},LbcDisplay:function(){return k},DarkModeDisplay:function(){return w}});var r=t(52322),i=t(96687),o=t(56092),u=t(97781),s=t(86334),c=t(31331),l=t(60163),a=t(9744),d=t(52375),p=t(60564),f=t(62620),g=t(3229),b=t(69704),y=t(62981),x=t(31186),v=t(5632);t(2784);function h(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){h(n,e,t[e])}))}return n}var j=!0,k=function(n){var e=n.name,t=n.image,h=n.description,m=(0,v.useRouter)().query.mintKey,j=(0,x.usePublicKey)(m),k=(0,x.useTokenBondingFromMint)(j),w=k.info,O=k.loading,K=(0,d.L)(null===w||void 0===w?void 0:w.publicKey).price,S=(0,y.useWallet)().publicKey,B=(0,a.Y)(S||void 0,null===w||void 0===w?void 0:w.publicKey).isAdmin,_={borderBottom:"3px solid #F07733"};return(0,r.jsxs)(p.xu,{color:(0,f.ff)("black","white"),w:"full",backgroundColor:"black.500",height:"100vh",overflow:"auto",paddingBottom:"200px",children:[(0,r.jsx)(s.y,{title:"Strata LBC Token Offering | ".concat(e),description:h,image:t,url:"".concat(l._O,"/bounty/").concat(j,"/")}),(0,r.jsx)(p.gC,{spacing:2,align:"left",children:(0,r.jsx)(p.W2,{mt:"35px",justify:"stretch",maxW:"460px",children:(0,r.jsxs)(g.mQ,{varaint:"unstyled",children:[(0,r.jsxs)(g.td,{borderBottom:"none",children:[(0,r.jsx)(g.OK,{_selected:_,fontWeight:600,children:"Swap"}),(0,r.jsx)(g.OK,{_selected:_,fontWeight:600,children:"Transactions"})]}),(0,r.jsxs)(g.nP,{children:[(0,r.jsxs)(g.x4,{p:0,pt:4,children:[(0,r.jsx)(o.Zg,{tokenBondingKey:null===w||void 0===w?void 0:w.publicKey}),(0,r.jsxs)(p.xu,{zIndex:1,shadow:"xl",rounded:"lg",p:"16px",pb:"29px",minH:"300px",bg:"black.300",children:[B&&w&&(0,r.jsxs)(p.xu,{p:4,borderBottom:"3px solid",borderRadius:"lg",borderColor:"gray.300",children:[(0,r.jsx)(p.X6,{size:"md",children:"Disburse Funds"}),(0,r.jsx)(i.Z,{tokenBondingKey:null===w||void 0===w?void 0:w.publicKey,includeRetrievalCurve:!0})]}),O&&(0,r.jsx)(p.M5,{children:(0,r.jsx)(b.$,{})}),!O&&w&&(0,r.jsxs)(p.gC,{align:"stretch",spacing:8,children:[(0,r.jsx)(u.y,{price:K,tokenBondingKey:w.publicKey,useTokenOfferingCurve:!0}),(0,r.jsx)(c.z,{mintKey:j})]})]})]}),(0,r.jsx)(g.x4,{p:0,pt:4,children:(0,r.jsxs)(p.xu,{zIndex:1,shadow:"xl",rounded:"lg",p:"16px",pb:"29px",minH:"300px",bg:"black.300",children:[O&&(0,r.jsx)(p.M5,{children:(0,r.jsx)(b.$,{})}),!O&&w&&(0,r.jsxs)(p.gC,{align:"stretch",spacing:8,children:[(0,r.jsx)(o.zj,{tokenBondingKey:w.publicKey}),(0,r.jsx)(o.cQ,{tokenBondingKey:w.publicKey})]})]})})]})]})})})]})},w=function(n){return(0,r.jsx)(f.t7,{children:(0,r.jsx)(k,m({},n))})};e.default=w},31331:function(n,e,t){"use strict";t.d(e,{z:function(){return y}});var r=t(92021),i=t.n(r),o=t(52322),u=t(2784),s=t(27193),c=t(31186),l=t(11929),a=t(89587);function d(n,e,t,r,i,o,u){try{var s=n[o](u),c=s.value}catch(l){return void t(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function p(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function g(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=function(){},y=function(n){var e=n.mintKey,t=n.showAttribution,r=void 0===t||t,y=(0,c.useTokenBondingKey)(e,1),x=y.result,v=y.error,h=(0,c.useStrataSdks)().tokenBondingSdk,m=(0,c.useTokenBonding)(x),j=m.info,k=m.loading,w=(0,c.useTokenBondingKey)(null===j||void 0===j?void 0:j.targetMint,0),O=w.result,K=w.error,S=(0,c.useTokenBonding)(O).info,B=(0,c.useTokenAccount)(null===j||void 0===j?void 0:j.baseStorage).info,_=(0,c.useMint)(null===j||void 0===j?void 0:j.baseMint),P=(0,l.useAsyncCallback)(function(n){var e,t=(e=i().mark((function n(e){var t,r,u,l,a,d,p,f,b,y,v,m;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=[],l=[],n.next=5,h.buyInstructions({desiredTargetAmount:+e.bottomAmount,slippage:+e.slippage/100,tokenBonding:O});case 5:if(a=n.sent,d=a.instructions,p=a.signers,(t=u).push.apply(t,g(d)),(r=l).push.apply(r,g(p)),!j){n.next=19;break}return n.next=14,h.sellInstructions({targetAmount:(0,c.roundToDecimals)(+e.bottomAmount,_.decimals),slippage:+e.slippage/100,tokenBonding:x});case 14:y=n.sent,v=y.instructions,m=y.signers,(f=u).push.apply(f,g(v)),(b=l).push.apply(b,g(m));case 19:return n.next=21,h.sendInstructions(u,l);case 21:s.default.custom((function(n){return(0,o.jsx)(c.Notification,{show:n.visible,type:"success",heading:"Transaction Successful",message:"Succesfully purchased ".concat(Number(e.bottomAmount).toFixed(9),"!"),onDismiss:function(){return s.default.dismiss(n.id)}})}));case 22:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(n){d(o,r,i,u,s,"next",n)}function s(n){d(o,r,i,u,s,"throw",n)}u(void 0)}))});return function(){return t.apply(this,arguments)}}()),T=P.execute,A=P.loading,M=P.error;(0,(0,c.useErrorHandler)().handleErrors)(v,K,M);var C=(0,u.useMemo)((function(){return{base:null===S||void 0===S?void 0:S.baseMint,target:null===S||void 0===S?void 0:S.targetMint}}),[null===S||void 0===S?void 0:S.baseMint,null===S||void 0===S?void 0:S.targetMint]),E=(0,c.useSwapDriver)({tradingMints:C,onTradingMintsChange:function(){},swap:function(n){},onConnectWallet:b,tokenBondingKey:O}),D=E.loading,N=f(E,["loading"]);return(0,o.jsx)(c.SwapForm,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){p(n,e,t[e])}))}return n}({showAttribution:r,isLoading:D||k,isSubmitting:A},N,{onSubmit:T,numRemaining:B&&_&&(0,a.toNumber)(B.amount,_)}))}}},function(n){n.O(0,[774,888,179],(function(){return e=19900,n(n.s=e);var e}));var e=n.O();_N_E=e}]);