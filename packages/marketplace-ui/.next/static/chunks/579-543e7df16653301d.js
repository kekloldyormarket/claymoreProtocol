(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{76613:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatewayTokenActionCreatorImplementation=void 0;const i=n(21940),o=n(61842),s=r(n(21708)),a=n(23022);t.GatewayTokenActionCreatorImplementation=({wallet:e,chainImplementation:t,gatekeeperClient:n,dispatch:r,networkConfig:u})=>{const c=(e,t=null)=>s.default.error(`[useChain] ${e}`,t),f=e=>202===e||404===e,l=async()=>{try{const e=await(async()=>(0,a.pollUntilConditionMet)(t.findGatewayToken,(e=>{if(!e)return!1;if(!e.expiryTime)return!0;if(e.state===i.State.ACTIVE)return!0;throw new Error("Token found but not ACTIVE")}),u.pollChainIntervalMilliseconds,u.pollChainNumberRetries))();if(((e,t=null)=>{s.default.debug(`[useChain] ${e}`,t)})("Result from pollForActiveOnChainToken",e),!e)throw c("Token not found onChain"),new Error("Token not found onChain");return r({type:"tokenChange",token:e}),void r({type:"civicPass_check_token_status",token:e})}catch(h){c("Failed to find Gateway token on-chain, checking with gatekeeper");const t=await n().getGatekeeperStatus(e.publicKey);f(t)&&await l(),(200===t||(e=>!f(e)&&e>=400)(t))&&(c("Failed to find Gateway token with gatekeeper status code",o.GatekeeperRecordState[t]),r({type:"tokenNotFoundError"}))}};return{waitForGatewayToken:l}}},1177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gatewayTokenActionCreator=void 0;const r=n(76613);t.gatewayTokenActionCreator=e=>(0,r.GatewayTokenActionCreatorImplementation)(e)},23022:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pollUntilConditionMet=t.sleep=void 0;const i=r(n(21708));t.sleep=e=>new Promise((t=>setTimeout(t,e)));t.pollUntilConditionMet=async(e,n,r=2e3,o=20)=>{if(o<=0)throw i.default.debug("WaitForStatusChange - no more retries"),new Error(`pollUntilConditionMet all retries used calling ${e}`);i.default.debug(`calling ${e.name} retries = ${o}`);const s=await e();return n(s)?s:(i.default.debug(`Waiting ${r}ms before running ${e.name} and checking condition ${n}`),await(0,t.sleep)(r),(0,t.pollUntilConditionMet)(e,n,r,o-1))}},91501:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconError=void 0;const o=i(n(2784));t.IconError=e=>{var t=r(e,[]);return o.default.createElement("svg",Object.assign({height:"60",viewBox:"0 0 60 60",width:"60",xmlns:"http://www.w3.org/2000/svg"},t),o.default.createElement("path",{fill:"#9f4c4c",fillRule:"evenodd",d:"M390.774,690a3.994,3.994,0,0,1,2.824,1.17l15.231,15.23A4,4,0,0,1,410,709.233v21.534a4,4,0,0,1-1.172,2.831L393.6,748.828A3.989,3.989,0,0,1,390.774,750H369.225a3.989,3.989,0,0,1-2.824-1.171l-15.23-15.23A3.994,3.994,0,0,1,350,730.767V709.233a4,4,0,0,1,1.173-2.832l15.23-15.23a3.994,3.994,0,0,1,2.824-1.17h21.549ZM395,729.951A3.406,3.406,0,0,1,395,734.77l-0.22.22a3.42,3.42,0,0,1-4.833,0l-8.764-8.755a1.71,1.71,0,0,0-2.417,0l-8.741,8.746a3.417,3.417,0,0,1-4.836,0l-0.194-.193a3.408,3.408,0,0,1,.017-4.842l8.834-8.735a1.7,1.7,0,0,0,0-2.43l-8.831-8.725a3.409,3.409,0,0,1-.018-4.844l0.193-.193a3.411,3.411,0,0,1,2.418-1c0.944,0,3.255,1.835,3.872,2.455l7.286,7.287a1.708,1.708,0,0,0,2.417,0l8.764-8.748a3.417,3.417,0,0,1,4.831,0L395,705.243a3.406,3.406,0,0,1,0,4.818l-8.727,8.737a1.7,1.7,0,0,0,0,2.407Z",id:"error",transform:"translate(-350 -690)"}))}},97089:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconLoading=void 0;const o=i(n(2784));t.IconLoading=e=>{var t=r(e,[]);return o.default.createElement("svg",Object.assign({width:"120",height:"30",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#fff"},t),o.default.createElement("circle",{fill:"#3AB03E",cx:"15",cy:"15",r:"15"},o.default.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),o.default.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),o.default.createElement("circle",{fill:"#3AB03E",cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},o.default.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),o.default.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),o.default.createElement("circle",{fill:"#3AB03E",cx:"105",cy:"15",r:"15"},o.default.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),o.default.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}},45140:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconLogo=void 0;const o=i(n(2784));t.IconLogo=e=>{var t=r(e,[]);return o.default.createElement("svg",Object.assign({fill:"#3AB03E",xmlns:"http://www.w3.org/2000/svg",version:"1.1",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 640",width:"640",height:"640"},t),o.default.createElement("defs",null,o.default.createElement("path",{d:"M333.66 83.17C423.79 83.17 502.31 133.47 542.68 207.86C552.6 226.14 575.47 232.92 593.75 223C612.04 213.08 618.82 190.21 608.89 171.93C555.91 74.3 452.58 7.84 333.66 7.84C160.63 7.84 20.53 148.47 20.53 321.73C20.53 494.99 160.63 635.62 333.66 635.62C452.58 635.62 555.91 569.16 608.89 471.53C618.82 453.24 612.04 430.38 593.75 420.45C575.47 410.53 552.6 417.31 542.68 435.59C502.31 509.99 423.79 560.28 333.66 560.28C202.43 560.28 95.86 453.57 95.86 321.73C95.86 189.88 202.43 83.17 333.66 83.17Z",id:"a2ktfY39Yo"}),o.default.createElement("path",{d:"M372.09 326.17C372.09 332.15 372.09 362.06 372.09 415.89L296.75 415.89C296.75 362.06 296.75 332.15 296.75 326.17C285.19 315.83 277.92 300.79 277.92 284.06C277.92 252.86 303.22 227.56 334.42 227.56C365.62 227.56 390.92 252.86 390.92 284.06C390.92 300.79 383.64 315.83 372.09 326.17Z",id:"a18kAz3CIi"})),o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("use",{xlinkHref:"#a2ktfY39Yo",opacity:"1",fillOpacity:"1"}),o.default.createElement("g",null,o.default.createElement("use",{xlinkHref:"#a2ktfY39Yo",opacity:"1",fillOpacity:"0",strokeWidth:"1",strokeOpacity:"0"}))),o.default.createElement("g",null,o.default.createElement("use",{xlinkHref:"#a18kAz3CIi",opacity:"1",fillOpacity:"1"}),o.default.createElement("g",null,o.default.createElement("use",{xlinkHref:"#a18kAz3CIi",opacity:"1",fillOpacity:"0",strokeWidth:"1",strokeOpacity:"0"})))))}},15906:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconSuccess=void 0;const o=i(n(2784));t.IconSuccess=e=>{var t=r(e,[]);return o.default.createElement("svg",Object.assign({id:"Layer_1",version:"1.1",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg"},t),o.default.createElement("g",null,o.default.createElement("circle",{fill:"#31AF91",cx:"64",cy:"64",r:"64"})),o.default.createElement("g",null,o.default.createElement("path",{fill:"#FFFFFF",cx:"64",cy:"64",r:"64",d:"M54.3,97.2L24.8,67.7c-0.4-0.4-0.4-1,0-1.4l8.5-8.5c0.4-0.4,1-0.4,1.4,0L55,78.1l38.2-38.2   c0.4-0.4,1-0.4,1.4,0l8.5,8.5c0.4,0.4,0.4,1,0,1.4L55.7,97.2C55.3,97.6,54.7,97.6,54.3,97.2z"})))}},29411:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconWarning=void 0;const o=i(n(2784));t.IconWarning=e=>{var t=r(e,[]);return o.default.createElement("svg",Object.assign({baseProfile:"tiny",height:"24px",id:"Layer_1",version:"1.2",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},t),o.default.createElement("path",{fill:"#f0c60b",d:"M21.171,15.398l-5.912-9.854C14.483,4.251,13.296,3.511,12,3.511s-2.483,0.74-3.259,2.031l-5.912,9.856  c-0.786,1.309-0.872,2.705-0.235,3.83C3.23,20.354,4.472,21,6,21h12c1.528,0,2.77-0.646,3.406-1.771  C22.043,18.104,21.957,16.708,21.171,15.398z M12,17.549c-0.854,0-1.55-0.695-1.55-1.549c0-0.855,0.695-1.551,1.55-1.551  s1.55,0.696,1.55,1.551C13.55,16.854,12.854,17.549,12,17.549z M13.633,10.125c-0.011,0.031-1.401,3.468-1.401,3.468  c-0.038,0.094-0.13,0.156-0.231,0.156s-0.193-0.062-0.231-0.156l-1.391-3.438C10.289,9.922,10.25,9.712,10.25,9.5  c0-0.965,0.785-1.75,1.75-1.75s1.75,0.785,1.75,1.75C13.75,9.712,13.711,9.922,13.633,10.125z"}))}},52468:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonMode=void 0;const i=r(n(2784)),o=r(n(39829)),s=n(45521),a=n(31003),u=o.default.button`
  width: 180px;
  background-color: #282c34;
  outline: none;
  border: 1px solid #434343;
  height: 50px;
  line-height: 20px;
  cursor: pointer;
  position: relative;
  &:disabled {
    opacity: 0.7;
    cursor: default;
  }
  &:active {
    top: 1px;
  }
  &:disabled:active {
    top: 0px;
  }
`,c={color:"white",fontSize:"16px",paddingLeft:"20px"},f={background:"#fff",border:"1px solid #ccc"},l={color:"#666666"};var h;!function(e){e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK"}(h=t.ButtonMode||(t.ButtonMode={}));t.default=({mode:e=h.DARK})=>{const{requestGatewayToken:t,gatewayStatus:n}=(0,s.useGateway)();return i.default.createElement(u,{onClick:t,type:"button",disabled:(0,a.isDisabled)(n),style:e===h.LIGHT?Object.assign({},f):{}},(0,a.getIcon)(n),i.default.createElement("span",{style:e===h.LIGHT?Object.assign(Object.assign({},c),l):c},(0,a.getButtonText)(n)))}},31003:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTokenDescription=t.isDisabled=t.getButtonText=t.getIcon=void 0;const i=r(n(2784)),o=n(61842),s=n(45140),a=n(91501),u=n(97089),c=n(15906),f=n(29411),l={width:"25px",height:"25px",fill:"#3AB03E",position:"absolute",left:"15px",top:"10px"},h={LOGO:i.default.createElement(s.IconLogo,{style:l}),ERROR:i.default.createElement(a.IconError,{style:l}),SPINNER:i.default.createElement(u.IconLoading,{style:l}),SUCCESS:i.default.createElement(c.IconSuccess,{style:l}),WARNING:i.default.createElement(f.IconWarning,{style:l})};t.getIcon=e=>{switch(e){case o.GatewayStatus.IN_REVIEW:case o.GatewayStatus.CHECKING:return h.SPINNER;case o.GatewayStatus.ACTIVE:return h.LOGO;case o.GatewayStatus.REFRESH_TOKEN_REQUIRED:case o.GatewayStatus.FROZEN:case o.GatewayStatus.REJECTED:case o.GatewayStatus.REVOKED:case o.GatewayStatus.LOCATION_NOT_SUPPORTED:case o.GatewayStatus.VPN_NOT_SUPPORTED:case o.GatewayStatus.USER_INFORMATION_REJECTED:return h.WARNING;case o.GatewayStatus.ERROR:return h.ERROR;default:return h.LOGO}};t.getButtonText=e=>{switch(e){case o.GatewayStatus.IN_REVIEW:return"Reviewing";case o.GatewayStatus.CHECKING:return"Collecting";case o.GatewayStatus.ACTIVE:return"Active";case o.GatewayStatus.FROZEN:case o.GatewayStatus.REJECTED:case o.GatewayStatus.REVOKED:return"Attention";case o.GatewayStatus.ERROR:return"Error";case o.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP:return"Confirm";case o.GatewayStatus.LOCATION_NOT_SUPPORTED:case o.GatewayStatus.VPN_NOT_SUPPORTED:return"Not supported";case o.GatewayStatus.COLLECTING_USER_INFORMATION:case o.GatewayStatus.USER_INFORMATION_VALIDATED:return"Resume";case o.GatewayStatus.VALIDATING_USER_INFORMATION:return"Review";case o.GatewayStatus.USER_INFORMATION_REJECTED:return"Failed";default:return"Identity"}};t.isDisabled=e=>e===o.GatewayStatus.CHECKING||e===o.GatewayStatus.UNKNOWN;t.getTokenDescription=e=>{switch(e){case o.GatewayStatus.CHECKING:return"The blockchain is being queried to find an existing Civic Pass.";case o.GatewayStatus.NOT_REQUESTED:return"A Civic Pass has not been requested.";case o.GatewayStatus.IN_REVIEW:return"Your Civic Pass is pending review.";case o.GatewayStatus.REJECTED:return"Your Civic Pass request was rejected";case o.GatewayStatus.REVOKED:return"Your Civic Pass has been revoked. Please contact support.";case o.GatewayStatus.FROZEN:return"Your Civic Pass has been frozen. Please contact support.";case o.GatewayStatus.ACTIVE:return"Your Civic Pass is currently active.";case o.GatewayStatus.ERROR:return"Something went wrong, please try again.";case o.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP:return"Please confirm wallet ownership by tapping on the button again";case o.GatewayStatus.LOCATION_NOT_SUPPORTED:return"Your location is not supported at this time";case o.GatewayStatus.VPN_NOT_SUPPORTED:return"VPN usage is not supported at this time";case o.GatewayStatus.VALIDATING_USER_INFORMATION:return"The validation process is currently being reviewed. Please be patient.";case o.GatewayStatus.USER_INFORMATION_VALIDATED:return"The validation process has been reviewed and needs to be completed.";case o.GatewayStatus.COLLECTING_USER_INFORMATION:return"The process is still in progess and needs to be completed.";case o.GatewayStatus.USER_INFORMATION_REJECTED:return"The validation process was rejected.";case o.GatewayStatus.REFRESH_TOKEN_REQUIRED:return"Your token needs to be refreshed";default:return"Please wait for the state to be updated."}}},44022:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonMode=t.getTokenDescription=t.IdentityButton=void 0;const s=o(n(52468));t.IdentityButton=s.default,Object.defineProperty(t,"ButtonMode",{enumerable:!0,get:function(){return s.ButtonMode}});const a=n(31003);Object.defineProperty(t,"getTokenDescription",{enumerable:!0,get:function(){return a.getTokenDescription}})},19933:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultApiNumRetries=t.API_NUM_RETRIES=t.getCivicPassEndpoint=t.COMPLIANCE_ENDPOINTS=t.DEFAULT_API_NUM_RETRIES=t.DEFAULT_REFRESH_INTERVAL=t.DEFAULT_GATEKEEPER_STAGE=t.DEFAULT_CIVIC_COMPLIANCE_SRC_URL=void 0,t.DEFAULT_CIVIC_COMPLIANCE_SRC_URL="https://pass-dev.civic.com/",t.DEFAULT_GATEKEEPER_STAGE="prod",t.DEFAULT_REFRESH_INTERVAL=216e5,t.DEFAULT_API_NUM_RETRIES=3,t.COMPLIANCE_ENDPOINTS={test:"https://passv2-dev.civic.com",local:"https://passv2-dev.civic.com",dev:"https://passv2-dev.civic.com",preprod:"https://passv2-preprod.civic.com",prod:"https://passv2.civic.com"};t.getCivicPassEndpoint=e=>{const n=t.COMPLIANCE_ENDPOINTS[e];if(!n)throw new Error(`Invalid stage ${e}`);return n},t.API_NUM_RETRIES={test:5,local:5,dev:5};t.getDefaultApiNumRetries=e=>t.API_NUM_RETRIES[e]||t.DEFAULT_API_NUM_RETRIES},32397:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFRAME_ID=t.TESTID_IFRAME_CLOSE_BTN=t.TESTID_RECONNECT_WALLET=t.TESTID_WRAPPER_CONTAINER=t.TESTID_WRAPPER=t.TESTID_IFRAME=void 0,t.TESTID_IFRAME="IFRAME",t.TESTID_WRAPPER="WRAPPER",t.TESTID_WRAPPER_CONTAINER="WRAPPER_CONTAINER",t.TESTID_RECONNECT_WALLET="RECONNECT_WALLET",t.TESTID_IFRAME_CLOSE_BTN="TESTID_IFRAME_CLOSE_BTN",t.IFRAME_ID="CIVIC_PASS_IFRAME"},45521:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGateway=t.GatewayProvider=void 0;const a=o(n(2784)),u=s(n(18873)),c=n(61842),f=s(n(21708)),l=n(1274),h=n(32397),p=n(19933),d=n(9728),g=s(n(81189)),y=s(n(85836)),w=s(n(2311)),m=s(n(13311)),E=s(n(99077)),v=a.default.createContext({requestGatewayToken:async()=>{},gatewayStatus:c.GatewayStatus.NOT_REQUESTED,stage:p.DEFAULT_GATEKEEPER_STAGE}),b=()=>encodeURIComponent(window.location.href.split("?")[0]);t.GatewayProvider=({children:e=null,wallet:t,chainImplementation:n,wrapper:r,logo:i,stage:o="prod",redirectUrl:s,gatekeeperNetwork:S,options:O={autoShowModal:!0},ownerSigns:_})=>{const R=S,[I,T]=(0,a.useReducer)(y.default,{options:O,gatewayStatus:c.GatewayStatus.UNKNOWN,tokenRequested:!1,iframeMinimized:!1,firstTokenCheck:!0,renderIframe:!1,powoFinished:!1,refreshInProgress:!1,walletPowoInProgress:!1,walletAddress:null===t||void 0===t?void 0:t.publicKey,iframeSrcUrl:void 0,stage:o,redirectUrl:s||b(),tokenIssuanceState:c.TokenIssuanceState.NOT_REQUESTED,refreshTokenState:c.RefreshTokenState.NOT_REQUIRED,civicPass:{status:c.CivicPassIssuanceStatus.NOT_REQUESTED,iframeMinimized:!1,renderIframe:!1},gatekeeperNetworkAddress:R,chainType:n.chainType,ownerSigns:_}),{gatewayStatus:k,iframeMinimized:A,renderIframe:P,gatewayToken:C,iframeSrcUrl:N,gatewayTokenTransaction:x}=I;(0,E.default)(t,I,T),(0,a.useEffect)((()=>{T({type:"updateStateWithProps",redirectUrl:s||b(),stage:o,walletAddress:null===t||void 0===t?void 0:t.publicKey,gatekeeperNetworkAddress:R,ownerSigns:_})}),[s,o,t,R,_]);const{network:U}=n.httpConfig.queryParams,j=(0,d.getGatekeeperEndpoint)(o),B=(0,a.useCallback)((()=>{if(!R)throw new Error("No gatekeeper network passed in.");return new g.default({baseUrl:j,stage:o,queryParams:{network:U,gatekeeperNetworkAddress:R}})}),[o,j,R,U]);(0,m.default)({wallet:t,chainImplementation:n,stage:o,gatekeeperClient:B},I,T);const{requestGatewayToken:M}=(0,w.default)({wallet:t},I,T),L=(0,p.getCivicPassEndpoint)(o),[G,D]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{f.default.info("GatewayContext gatewayStatus",c.GatewayStatus[k])}),[k]),(0,a.useEffect)((()=>{P||D(!1)}),[P]),a.default.createElement(v.Provider,{value:{requestGatewayToken:M,gatewayStatus:k,gatewayToken:k===c.GatewayStatus.ACTIVE?C:void 0,stage:o,civicPassSrcUrl:L,gatewayTokenTransaction:x}},e,P&&a.default.createElement("div",{"data-testid":h.TESTID_WRAPPER_CONTAINER,hidden:A},a.default.createElement(l.Wrapper,{"data-testid":h.TESTID_WRAPPER,onClose:()=>T({type:"civicPass_close"}),wrapper:r,logo:i,loaded:G},a.default.createElement(u.default,{"data-testid":h.TESTID_IFRAME,src:N,id:h.IFRAME_ID,style:{width:"1px",minWidth:"100%",border:"none",height:"26px",transition:"height 0.25s ease"},heightCalculationMethod:"min",checkOrigin:!1,onLoad:()=>D(!0),inPageLinks:!0,allow:"camera",allowFullScreen:!0,frameBorder:"0"}))))};t.useGateway=()=>(0,a.useContext)(v)},27733:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useGateway=t.GatewayProvider=t.Badge=t.ButtonMode=t.getTokenDescription=t.IdentityButton=t.GatewayStatus=void 0;const i=r(n(40874));var o=n(61842);Object.defineProperty(t,"GatewayStatus",{enumerable:!0,get:function(){return o.GatewayStatus}});var s=n(44022);Object.defineProperty(t,"IdentityButton",{enumerable:!0,get:function(){return s.IdentityButton}}),Object.defineProperty(t,"getTokenDescription",{enumerable:!0,get:function(){return s.getTokenDescription}}),Object.defineProperty(t,"ButtonMode",{enumerable:!0,get:function(){return s.ButtonMode}});var a=n(19657);Object.defineProperty(t,"Badge",{enumerable:!0,get:function(){return r(a).default}});var u=n(3465);Object.defineProperty(t,"GatewayProvider",{enumerable:!0,get:function(){return u.SolanaGatewayProvider}}),Object.defineProperty(t,"useGateway",{enumerable:!0,get:function(){return u.useSolanaGateway}}),console.log(`${(0,i.default)()}`)},21708:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(78928)),o=new(n(49491).LoggingProvider)(new i.default);t.default=o},78928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(49491),i=(e,t,n)=>{n?e(t,n):e(t)};class o extends r.LoggingProvider{constructor(e=r.DEFAULT_LOG_LEVEL){super(console,e)}debug(e,t){i(this.logger.debug,e,t)}info(e,t){i(this.logger.info,e,t)}warn(e,t){i(this.logger.warn,e,t)}error(e,t){i(this.logger.error,e,t)}}t.default=o},49491:function(e,t,n){"use strict";var r=n(34406);Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingProvider=t.DEFAULT_LOG_LEVEL=t.allowLogging=void 0;const i=["debug","info","warn","error"];t.allowLogging=(e,t)=>i.indexOf(e)<=i.indexOf(t),t.DEFAULT_LOG_LEVEL=r.env.REACT_APP_LOG_LEVEL||"warn";t.LoggingProvider=class{constructor(e,n=t.DEFAULT_LOG_LEVEL){if(this.logger=e,"undefined"!==typeof window){const e=new URLSearchParams(window.location.search).get("logLevel");this.logLevel=e||n}else this.logLevel=n}debug(e,n){(0,t.allowLogging)(this.logLevel,"debug")&&this.logger.debug(e,n)}info(e,n){(0,t.allowLogging)(this.logLevel,"info")&&this.logger.info(e,n)}warn(e,n){(0,t.allowLogging)(this.logLevel,"warn")&&this.logger.warn(e,n)}error(e,n){(0,t.allowLogging)(this.logLevel,"error")&&this.logger.error(e,n)}}},5840:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.localConfig=void 0,function(e){e.IGNITE="ignitePass",e.IGNITE_NFT="igniteNftPass",e.NILE="nilePass"}(n||(n={}));const r={networkAddressMappings:{tigoYhp9SpCDoCQmXGj2im5xa3mnjR1zuXrpCJ5ZRmi:n.IGNITE,tig2iQjtihM8GbWS1z5LJi9ytTkj4poeh2N3MW4n9gt:n.IGNITE_NFT,tniC2HX5yg2yDjMQEcUo1bHa44x9YdZVSqyKox21SDz:n.NILE,ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6:n.IGNITE,ign2PJfwxvYxAZpMdXgLdY4VLCnChPZWjtTeQwQfQdc:n.IGNITE_NFT,ni1jXzPTq1yTqo67tUmVgnp22b1qGAAZCtPmHtskqYG:n.NILE},networkConfigs:{requiresGatekeeperRecordStatusCheck:!0,tokenExpirationMarginSeconds:21600,pollChainIntervalMilliseconds:2e3,pollChainNumberRetries:30,waitForTokenRefreshTimoutMilliseconds:6e4,[n.IGNITE]:{requiresGatekeeperRecordStatusCheck:!1,tokenExpirationMarginSeconds:60},[n.IGNITE_NFT]:{requiresGatekeeperRecordStatusCheck:!1,tokenExpirationMarginSeconds:60},[n.NILE]:{requiresGatekeeperRecordStatusCheck:!0}}},i=Object.assign(Object.assign({},r),{networkConfigs:Object.assign(Object.assign({},r.networkConfigs),{tokenExpirationMarginSeconds:10})});t.localConfig=Object.assign(Object.assign({},r),{networkConfigs:Object.assign(Object.assign({},r.networkConfigs),{tokenExpirationMarginSeconds:60})});const o=Object.assign(Object.assign({},r),{networkConfigs:Object.assign(Object.assign({},r.networkConfigs),{tokenExpirationMarginSeconds:900})}),s=Object.assign({},r),a=Object.assign({},r),u={test:i,local:t.localConfig,dev:o,preprod:s,prod:a};t.default=({gatekeeperNetworkAddress:e,stage:t})=>{var n,i;const o=u[t],s=e?null===o||void 0===o?void 0:o.networkAddressMappings[e]:null,a=s?null===o||void 0===o?void 0:o.networkConfigs[s]:o,c=null!==(n=null===a||void 0===a?void 0:a.tokenExpirationMarginSeconds)&&void 0!==n?n:o.networkConfigs.tokenExpirationMarginSeconds,{pollChainIntervalMilliseconds:f,pollChainNumberRetries:l,waitForTokenRefreshTimoutMilliseconds:h,requiresGatekeeperRecordStatusCheck:p}=r.networkConfigs;return{pollChainNumberRetries:l,pollChainIntervalMilliseconds:f,waitForTokenRefreshTimoutMilliseconds:h,tokenExpirationMarginSeconds:c,requiresGatekeeperRecordStatusCheck:null!==(i=null===a||void 0===a?void 0:a.requiresGatekeeperRecordStatusCheck)&&void 0!==i?i:p}}},45197:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(21940),u=o(n(2784)),c=n(9728),f=n(43744),l=s(n(10742));function h(e){const t=(0,u.useRef)();return(0,u.useEffect)((()=>{t.current=e}),[e]),t.current}t.default=({connection:e,gatekeeperNetwork:t,publicKey:n,clusterName:r="mainnet-beta"})=>{const[i,o]=(0,u.useState)(),s=h(null===t||void 0===t?void 0:t.toBase58()),p=h(null===n||void 0===n?void 0:n.toBase58()),d=h(r);return(0,u.useEffect)((()=>{if((null===t||void 0===t?void 0:t.toBase58())!==s||(null===n||void 0===n?void 0:n.toBase58())!==p||r!==d){const i=(0,c.clusterEndpoint)(r),s=e||(0,f.getSolanaConnection)(i);(0,a.findGatewayToken)(s,n,t).then((e=>o(e||void 0)))}}),[null===t||void 0===t?void 0:t.toBase58(),null===n||void 0===n?void 0:n.toBase58(),r,e]),(null===i||void 0===i?void 0:i.state)===a.State.ACTIVE?u.default.createElement("a",{href:"https://www.civic.com",target:"_blank",rel:"noreferrer","data-testid":"badgeLink"},u.default.createElement(l.default,null)):u.default.createElement(u.default.Fragment,null)}},10742:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2784));t.default=e=>{var t=r(e,[]);return o.default.createElement("svg",Object.assign({width:"32",height:"32"},t,{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),o.default.createElement("g",{filter:"url(#filter0_b_2441_5125)"},o.default.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"#569AFF"})),o.default.createElement("path",{d:"M25.3332 12.3006C23.9668 8.56049 20.4885 6.21875 16.333 6.21875C10.9943 6.21875 6.6665 10.6174 6.6665 16.0433C6.6665 21.4693 10.9943 25.8679 16.333 25.8679C20.4244 25.8679 23.9222 23.6323 25.3332 19.9829",stroke:"white",strokeWidth:"1.64398",strokeLinecap:"round"}),o.default.createElement("path",{d:"M20.4207 13.1055L15.5084 19.0002L12.561 16.5441",stroke:"white",strokeWidth:"1.64398",strokeLinecap:"round",strokeLinejoin:"round"}),o.default.createElement("defs",null,o.default.createElement("filter",{id:"filter0_b_2441_5125",x:"-14.4",y:"-14.4",width:"60.8",height:"60.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.default.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.default.createElement("feGaussianBlur",{in:"BackgroundImage",stdDeviation:"7.2"}),o.default.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_2441_5125"}),o.default.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_2441_5125",result:"shape"}))))}},19657:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(45197));t.default=i.default},20887:function(e,t,n){"use strict";var r=n(98159).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSolanaGateway=t.chainImplementation=void 0;const o=n(21940),s=n(47609),a=n(76468),u=n(9728),c=n(61842),f=n(45521),l=i(n(21708)),h=e=>s.Transaction.from(r.from(e,"base64"));t.chainImplementation=({clusterUrl:e,publicKey:t,signTransaction:n,handleTransaction:r,gatekeeperNetworkAddress:i,stage:f})=>{l.default.debug("Connecting to cluster with commitment recent",e);const p=new s.Connection(e,"processed");return{addOnGatewayTokenChangeListener:(e,t)=>(0,o.onGatewayTokenChange)(p,new s.PublicKey(e.identifier),(e=>{t({issuingGatekeeper:e.issuingGatekeeper.toBase58(),gatekeeperNetworkAddress:e.gatekeeperNetwork.toBase58(),owner:e.owner.toBase58(),state:c.State[e.state],identifier:e.publicKey.toBase58(),expiryTime:e.expiryTime})})),removeOnGatewayTokenChangeListener:e=>{(0,o.removeAccountChangeListener)(p,e)},findGatewayToken:async()=>{const e=await(0,o.findGatewayToken)(p,t,new s.PublicKey(i));if(e)return{issuingGatekeeper:e.issuingGatekeeper.toBase58(),gatekeeperNetworkAddress:e.gatekeeperNetwork.toBase58(),owner:e.owner.toBase58(),state:c.State[e.state],identifier:e.publicKey.toBase58(),expiryTime:e.expiryTime}},proveWalletOwnership:async()=>(await(0,a.prove)(t,n,(0,u.makeConfig)(e))).toString("base64"),handleUserSignedTransaction:async e=>{r&&await r(h(e))},chainType:c.ChainType.SOLANA,httpConfig:{baseUrl:(0,u.getGatekeeperEndpoint)(f),queryParams:{network:(0,u.urlToCluster)(e)}}}};t.useSolanaGateway=()=>{const{gatewayToken:e,gatewayTokenTransaction:t}=(0,f.useGateway)(),n=e?{issuingGatekeeper:new s.PublicKey(e.issuingGatekeeper),gatekeeperNetworkAddress:new s.PublicKey(e.gatekeeperNetworkAddress),owner:new s.PublicKey(e.owner),state:e.state,publicKey:new s.PublicKey(e.identifier),expiryTime:e.expiryTime}:void 0,r=t?h(t):void 0;return Object.assign(Object.assign({},(0,f.useGateway)()),{gatewayToken:n,gatewayTokenTransaction:r})}},9728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeConfig=t.getGatekeeperEndpoint=t.GATEKEEPER_ENDPOINTS=t.urlToCluster=t.clusterEndpoint=void 0;const r=n(47609);t.clusterEndpoint=e=>{switch(e){case"civicnet":return"https://d3ab7dlfud2b5u.cloudfront.net";case"localnet":return"http://localhost:8899";default:return"mainnet-beta"===e?"https://civic.rpcpool.com/f40a068020b85335d0c8f2783747/":(0,r.clusterApiUrl)(e)}};t.urlToCluster=e=>{const n=["devnet","testnet","mainnet-beta","civicnet","localnet"],r=n.find((n=>(0,t.clusterEndpoint)(n)===e));if(r)return r;const i=n.find((t=>e.indexOf(t)>=0));return i||"mainnet-beta"};t.GATEKEEPER_ENDPOINTS={local:"http://localhost:3001/local/v1/token/solana",test:"http://localhost:3001/local/v1/token/solana",dev:"https://dev-gatekeeper-api.civic.com/v1/token/solana",preprod:"https://preprod-gatekeeper-api.civic.com/v1/token/solana",prod:"https://gatekeeper-api.civic.com/v1/token/solana"};t.getGatekeeperEndpoint=e=>{const n=t.GATEKEEPER_ENDPOINTS[e];if(!n)throw new Error(`Invalid stage ${e}`);return n};t.makeConfig=e=>{const n=(0,t.urlToCluster)(e);return{cluster:n,commitment:"confirmed",supportedClusterUrls:{[n]:e},recentBlockCheck:!1}}},43744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useConnection=t.SolanaConnectionProvider=t.getSolanaConnection=void 0;const a=o(n(2784)),u=n(47609),c=o(n(28044)),f=s(n(21708)),l=a.default.createContext(null);t.getSolanaConnection=c.memoizeWith(c.identity,(e=>(f.default.debug("new solana connection created using clusterUrl",e),new u.Connection(e,"processed")))),t.SolanaConnectionProvider=function({children:e=null,endpoint:n}){const r=(0,a.useMemo)((()=>(0,t.getSolanaConnection)(n)),[n]);return(0,a.useEffect)((()=>{const e=r.onAccountChange(u.Keypair.generate().publicKey,(()=>{}));return()=>{r.removeAccountChangeListener(e)}}),[r]),(0,a.useEffect)((()=>{const e=r.onSlotChange((()=>null));return()=>{r.removeSlotChangeListener(e)}}),[r]),a.default.createElement(l.Provider,{value:{endpoint:n,connection:r}},e)},t.useConnection=function(){const e=(0,a.useContext)(l);if(!e)throw new Error("Missing connection context");return e.connection}},3465:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSolanaGateway=t.SolanaGatewayProvider=void 0;const u=o(n(2784)),c=n(45521),f=n(20887),l=a(n(21708));t.SolanaGatewayProvider=({children:e=null,wallet:t,clusterUrl:n="https://civic.rpcpool.com/f40a068020b85335d0c8f2783747",gatekeeperNetwork:r,wrapper:i,logo:o,stage:s="prod",redirectUrl:a,broadcastTransaction:h=!0,handleTransaction:p,options:d={autoShowModal:!0}})=>{var g,y;const w=(0,u.useMemo)((()=>{if((null===t||void 0===t?void 0:t.publicKey)&&r){const{publicKey:e,signTransaction:i}=t;return(0,f.chainImplementation)({clusterUrl:n,publicKey:e,signTransaction:i,gatekeeperNetworkAddress:r,stage:s,handleTransaction:p})}}),[n,null===(g=null===t||void 0===t?void 0:t.publicKey)||void 0===g?void 0:g.toBase58(),null===r||void 0===r?void 0:r.toBase58(),s]),m=(0,u.useMemo)((()=>{if(null===t||void 0===t?void 0:t.publicKey){const{publicKey:e}=t;return{publicKey:null===e||void 0===e?void 0:e.toBase58()}}}),[null===(y=null===t||void 0===t?void 0:t.publicKey)||void 0===y?void 0:y.toBase58()]);return m&&w?(l.default.info("Client Options",d),u.default.createElement(c.GatewayProvider,{wallet:m,stage:s,chainImplementation:w,gatekeeperNetwork:null===r||void 0===r?void 0:r.toBase58(),wrapper:i,logo:o,redirectUrl:a,ownerSigns:!h,options:d},e)):u.default.createElement(u.default.Fragment,null,e)};var h=n(20887);Object.defineProperty(t,"useSolanaGateway",{enumerable:!0,get:function(){return h.useSolanaGateway}}),s(n(96059),t)},96059:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},61842:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationStatus=t.CivicPassMessageAction=t.CivicPassMessageEventResult=t.ChainType=t.RefreshTokenState=t.CivicPassIssuanceStatus=t.TokenIssuanceState=t.GatewayStatus=t.GatekeeperRecordState=t.TokenState=t.State=void 0,function(e){e.ACTIVE="ACTIVE",e.REVOKED="REVOKED",e.FROZEN="FROZEN"}(t.State||(t.State={})),function(e){e.REQUESTED="REQUESTED",e.ACTIVE="ACTIVE",e.REVOKED="REVOKED",e.FROZEN="FROZEN",e.REJECTED="REJECTED"}(t.TokenState||(t.TokenState={})),function(e){e[e.REQUESTING=0]="REQUESTING",e[e.NOT_REQUESTED=404]="NOT_REQUESTED",e[e.REQUESTED=202]="REQUESTED",e[e.ISSUED=200]="ISSUED",e[e.ISSUED_EXPIRY_APPROACHING=205]="ISSUED_EXPIRY_APPROACHING",e[e.ISSUED_EXPIRED=426]="ISSUED_EXPIRED",e[e.LOCATION_NOT_SUPPORTED=401]="LOCATION_NOT_SUPPORTED",e[e.ISSUED_LOCATION_NOT_SUPPORTED=412]="ISSUED_LOCATION_NOT_SUPPORTED",e[e.ISSUED_VPN_NOT_SUPPORTED=451]="ISSUED_VPN_NOT_SUPPORTED",e[e.SERVER_FAILURE=500]="SERVER_FAILURE"}(t.GatekeeperRecordState||(t.GatekeeperRecordState={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CHECKING=1]="CHECKING",e[e.NOT_REQUESTED=2]="NOT_REQUESTED",e[e.COLLECTING_USER_INFORMATION=3]="COLLECTING_USER_INFORMATION",e[e.PROOF_OF_WALLET_OWNERSHIP=4]="PROOF_OF_WALLET_OWNERSHIP",e[e.IN_REVIEW=5]="IN_REVIEW",e[e.REJECTED=6]="REJECTED",e[e.REVOKED=7]="REVOKED",e[e.FROZEN=8]="FROZEN",e[e.ACTIVE=9]="ACTIVE",e[e.ERROR=10]="ERROR",e[e.LOCATION_NOT_SUPPORTED=11]="LOCATION_NOT_SUPPORTED",e[e.VPN_NOT_SUPPORTED=12]="VPN_NOT_SUPPORTED",e[e.REFRESH_TOKEN_REQUIRED=13]="REFRESH_TOKEN_REQUIRED",e[e.VALIDATING_USER_INFORMATION=14]="VALIDATING_USER_INFORMATION",e[e.USER_INFORMATION_VALIDATED=15]="USER_INFORMATION_VALIDATED",e[e.USER_INFORMATION_REJECTED=16]="USER_INFORMATION_REJECTED"}(t.GatewayStatus||(t.GatewayStatus={})),function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETED=2]="COMPLETED",e[e.FAILED=3]="FAILED"}(t.TokenIssuanceState||(t.TokenIssuanceState={})),function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.REQUESTED=1]="REQUESTED",e[e.VERIFIED=2]="VERIFIED",e[e.FAILED=3]="FAILED"}(t.CivicPassIssuanceStatus||(t.CivicPassIssuanceStatus={})),function(e){e[e.NOT_REQUIRED=0]="NOT_REQUIRED",e[e.CHECK_TOKEN_EXPIRATION=1]="CHECK_TOKEN_EXPIRATION",e[e.WAIT_FOR_ON_CHAIN=2]="WAIT_FOR_ON_CHAIN",e[e.IN_PROGRESS=3]="IN_PROGRESS",e[e.REQUIRES_POWO=4]="REQUIRES_POWO",e[e.COMPLETED=5]="COMPLETED",e[e.CANCELLED=6]="CANCELLED",e[e.FAILED=7]="FAILED"}(t.RefreshTokenState||(t.RefreshTokenState={})),function(e){e.SOLANA="solana",e.ETHEREUM="ethereum",e.CASPER="casper"}(t.ChainType||(t.ChainType={})),function(e){e.SUCCESS="success",e.FAILURE="failure",e.CANCELLED="cancelled",e.IN_PROGRESS="inProgress"}(t.CivicPassMessageEventResult||(t.CivicPassMessageEventResult={})),function(e){e.ISSUANCE="issuance",e.CONFIRM_TRANSACTION="confirmTransaction",e.TOKEN_FROZEN="tokenFrozen",e.TOKEN_ACTIVE="tokenActive",e.TOKEN_REVOKED="tokenRevoked",e.TOKEN_REJECTED="tokenRejected",e.TOKEN_IN_REVIEW="tokenInReview",e.FAILED_IP_CHECK="failedIpCheck",e.FAILED_VPN_CHECK="failedVpnCheck",e.REFRESH="refresh",e.PROOF_OF_WALLET_OWNERSHIP="proofOfWalletOwnership",e.STATUS="status"}(t.CivicPassMessageAction||(t.CivicPassMessageAction={})),function(e){e.COLLECTING="COLLECTING",e.PROCESSING="PROCESSING",e.IN_REVIEW="IN_REVIEW",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.NOT_FOUND="NOT_FOUND"}(t.ValidationStatus||(t.ValidationStatus={}))},66483:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const i=n(2784),o=n(61842),s=r(n(21708)),a=r(n(99077));t.reducer=(e,t)=>{switch(t.type){case"tokenOnChainNotFound":return Object.assign(Object.assign({},e),{gatewayStatus:o.GatewayStatus.NOT_REQUESTED});case"tokenOnChainError":return Object.assign(Object.assign({},e),{gatewayStatus:o.GatewayStatus.ERROR});default:return e}};t.default=({wallet:e,chainImplementation:t,networkConfig:n},r,u)=>{const{expectWalletConnected:c}=(0,a.default)(e,r,u),{gatekeeperRecordState:f,gatewayToken:l}=r,h=(e,t=null)=>s.default.debug(`[useChain] ${e}`,t),p=(e,t=null)=>s.default.error(`[useChain] ${e}`,t),d=e=>{const n=t.addOnGatewayTokenChangeListener(e,(e=>{u({type:"tokenChange",token:e}),u({type:"civicPass_check_token_status",token:e})}));return h("Adding onChainListener with id: ",n),n};(0,i.useEffect)((()=>{let e;return l&&(e=d(l)),()=>{e&&(e=>{try{h("Removing onChainListener with id: ",e),t.removeOnGatewayTokenChangeListener(e)}catch(n){p("Error removing on chain listener",n)}})(e)}}),[f,l]);const g=async()=>{const e=c();try{h("Fetching token from chain");const e=await t.findGatewayToken();if(!e)return void u({type:"tokenOnChainNotFound"});h("Token found",e),u({type:"tokenChange",token:e});if(!(f&&[o.GatekeeperRecordState.ISSUED_EXPIRED,o.GatekeeperRecordState.ISSUED_EXPIRY_APPROACHING,o.GatekeeperRecordState.ISSUED_LOCATION_NOT_SUPPORTED,o.GatekeeperRecordState.ISSUED_VPN_NOT_SUPPORTED].includes(f)))return;u({type:"civicPass_check_token_status",token:e})}catch(n){throw p(`Error getting token from chain for ${e.publicKey}`,n),u({type:"tokenOnChainError"}),n}};return(0,i.useEffect)((()=>{f&&[o.GatekeeperRecordState.ISSUED,o.GatekeeperRecordState.ISSUED_EXPIRED,o.GatekeeperRecordState.ISSUED_EXPIRY_APPROACHING,o.GatekeeperRecordState.REQUESTED,o.GatekeeperRecordState.ISSUED_LOCATION_NOT_SUPPORTED,o.GatekeeperRecordState.ISSUED_VPN_NOT_SUPPORTED,o.GatekeeperRecordState.SERVER_FAILURE].includes(f)&&g()}),[f,t]),(0,i.useEffect)((()=>{n.requiresGatekeeperRecordStatusCheck||g()}),[n.requiresGatekeeperRecordStatusCheck,t]),{addTokenChangeListeners:d,dispatchTokenFromChain:g}}},65285:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const i=n(2784),o=r(n(21708)),s=n(61842),a=n(19933),u=n(67999),c={[s.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP]:s.CivicPassMessageAction.PROOF_OF_WALLET_OWNERSHIP,[s.GatewayStatus.IN_REVIEW]:s.CivicPassMessageAction.TOKEN_IN_REVIEW,[s.GatewayStatus.ERROR]:s.CivicPassMessageAction.ISSUANCE,[s.GatewayStatus.ACTIVE]:s.CivicPassMessageAction.TOKEN_ACTIVE,[s.GatewayStatus.REVOKED]:s.CivicPassMessageAction.TOKEN_REVOKED,[s.GatewayStatus.FROZEN]:s.CivicPassMessageAction.TOKEN_FROZEN,[s.GatewayStatus.REJECTED]:s.CivicPassMessageAction.TOKEN_REJECTED,[s.GatewayStatus.LOCATION_NOT_SUPPORTED]:s.CivicPassMessageAction.FAILED_IP_CHECK,[s.GatewayStatus.VPN_NOT_SUPPORTED]:s.CivicPassMessageAction.FAILED_VPN_CHECK,[s.GatewayStatus.REFRESH_TOKEN_REQUIRED]:s.CivicPassMessageAction.REFRESH,[s.GatewayStatus.CHECKING]:s.CivicPassMessageAction.STATUS,[s.GatewayStatus.NOT_REQUESTED]:s.CivicPassMessageAction.ISSUANCE,[s.GatewayStatus.COLLECTING_USER_INFORMATION]:s.CivicPassMessageAction.ISSUANCE,[s.GatewayStatus.VALIDATING_USER_INFORMATION]:s.CivicPassMessageAction.ISSUANCE,[s.GatewayStatus.USER_INFORMATION_VALIDATED]:s.CivicPassMessageAction.ISSUANCE,[s.GatewayStatus.USER_INFORMATION_REJECTED]:s.CivicPassMessageAction.ISSUANCE},f={[s.ValidationStatus.COLLECTING]:s.GatewayStatus.COLLECTING_USER_INFORMATION,[s.ValidationStatus.PROCESSING]:s.GatewayStatus.VALIDATING_USER_INFORMATION,[s.ValidationStatus.IN_REVIEW]:s.GatewayStatus.VALIDATING_USER_INFORMATION,[s.ValidationStatus.FAILED]:s.GatewayStatus.USER_INFORMATION_REJECTED,[s.ValidationStatus.NOT_FOUND]:s.GatewayStatus.NOT_REQUESTED,[s.ValidationStatus.COMPLETED]:s.GatewayStatus.USER_INFORMATION_VALIDATED},l=(e,t=null)=>o.default.debug(`[useCivicPass] ${e}`,t),h=(e,t)=>{const{redirectUrl:n,gatekeeperNetworkAddress:r,stage:i,walletAddress:u,civicPass:f,chainType:h}=e;if(!r||!u)throw((e,t=null)=>{o.default.error(`[useCivicPass] ${e}`,t)})("Required properties not present",{gatekeeperNetworkAddress:r,walletAddress:u}),new Error(`Required properties not present ${{gatekeeperNetworkAddress:r,walletAddress:u}}`);const p=(0,a.getCivicPassEndpoint)(i),d=new URL(p),g=c[t],y=new URLSearchParams(Object.assign(Object.assign({},f.requestPayload),{redirectUrl:n,networkAddress:r,action:g,wallet:u,chain:h}));return l("Civic pass query params",{searchParams:y.toString(),gatewayStatus:s.GatewayStatus[t]}),`${d.href}?${y.toString()}`};t.reducer=(e,t)=>{var n;switch(t.type){case"civicPass_check_token_status":return Object.assign(Object.assign({},e),{iframeMinimized:!(null===(n=e.options)||void 0===n?void 0:n.autoShowModal),renderIframe:!0,iframeSrcUrl:e.civicPass.status===s.CivicPassIssuanceStatus.REQUESTED?e.iframeSrcUrl:h(e,(0,u.statusFromToken)(e,t.token))});case"civicPass_check_status":return Object.assign(Object.assign({},e),{iframeMinimized:!0,renderIframe:!0,gatewayStatus:s.GatewayStatus.CHECKING,iframeSrcUrl:h(e,s.GatewayStatus.CHECKING)});case"civicPass_check_status_complete":{const{payload:n}=t.payload,{status:r}=n,i=f[r];return Object.assign(Object.assign({},e),{iframeMinimized:!0,renderIframe:!1,gatewayStatus:i})}case"userInteraction_check_gatewayToken_status":return Object.assign(Object.assign({},e),{iframeMinimized:!1,renderIframe:!0,iframeSrcUrl:e.civicPass.status===s.CivicPassIssuanceStatus.REQUESTED?e.iframeSrcUrl:h(e,(0,u.statusFromToken)(e,t.token))});case"civicPass_close":{const{gatewayStatus:t}=e,n=t===s.GatewayStatus.REFRESH_TOKEN_REQUIRED||t===s.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP;return Object.assign({},e.civicPass.status===s.CivicPassIssuanceStatus.REQUESTED?Object.assign(Object.assign({},e),{iframeMinimized:!0,renderIframe:!0}):Object.assign(Object.assign({},e),{iframeMinimized:!0,renderIframe:!1,refreshTokenState:n?e.refreshTokenState:s.RefreshTokenState.COMPLETED}))}case"civicPass_in_progress":return Object.assign(Object.assign({},e),{gatewayStatus:s.GatewayStatus.COLLECTING_USER_INFORMATION,renderIframe:!0,iframeMinimized:!1,civicPass:Object.assign(Object.assign({},e.civicPass),{status:s.CivicPassIssuanceStatus.REQUESTED})});case"civicPass_issuance_success":{const{ownerSigns:n}=e,{payload:r,requiresProofOfWalletOwnership:i}=t.payload,o=!n&&i,a=o?s.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP:s.GatewayStatus.IN_REVIEW;return Object.assign(Object.assign({},e),{gatewayStatus:a,renderIframe:!n,iframeMinimized:n,powoRequested:"solana",iframeSrcUrl:h(e,a),civicPass:Object.assign(Object.assign({},e.civicPass),{status:s.CivicPassIssuanceStatus.VERIFIED,responsePayload:{[s.CivicPassMessageAction.ISSUANCE]:{payload:r,requiresProofOfWalletOwnership:o}}})})}case"civicPass_issuance_failure":return Object.assign(Object.assign({},(0,u.resetState)(e)),{gatewayStatus:s.GatewayStatus.ERROR});case"civicPass_issuance_cancelled":return Object.assign(Object.assign({},(0,u.resetState)(e)),{gatewayStatus:s.GatewayStatus.NOT_REQUESTED});case"civicPass_refresh_success":{const{ownerSigns:n}=e,{payload:r,requiresProofOfWalletOwnership:i}=t.payload,o=!n&&i,a=o?s.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP:s.GatewayStatus.IN_REVIEW;return Object.assign(Object.assign({},e),{gatewayStatus:a,renderIframe:!n,iframeMinimized:n,iframeSrcUrl:h(e,a),refreshTokenState:s.RefreshTokenState.IN_PROGRESS,civicPass:Object.assign(Object.assign({},e.civicPass),{responsePayload:{[s.CivicPassMessageAction.REFRESH]:{payload:r,requiresProofOfWalletOwnership:o}}})})}case"civicPass_refresh_cancelled":return Object.assign(Object.assign({},(0,u.resetState)(e)),{refreshTokenState:s.RefreshTokenState.CANCELLED,gatewayStatus:s.GatewayStatus.REFRESH_TOKEN_REQUIRED});case"civicPass_refresh_failure":return Object.assign(Object.assign({},(0,u.resetState)(e)),{refreshTokenState:s.RefreshTokenState.FAILED,gatewayStatus:s.GatewayStatus.ERROR,civicPass:Object.assign(Object.assign({},e.civicPass),{responsePayload:void 0})});case"civicPass_location_not_supported":return Object.assign(Object.assign({},e),{iframeMinimized:!0,renderIframe:!1,gatewayStatus:e.gatewayStatus,refreshTokenState:e.gatekeeperRecordState===s.GatekeeperRecordState.ISSUED_LOCATION_NOT_SUPPORTED?s.RefreshTokenState.REQUIRES_POWO:e.refreshTokenState});case"civicPass_vpn_not_supported":return Object.assign(Object.assign({},e),{iframeMinimized:!0,renderIframe:!1,gatewayStatus:e.gatewayStatus});default:return e}};t.default=({wallet:e},t,n)=>{const{gatekeeperRecordState:r}=t,o=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"civicPass_issuance_success",payload:e},[s.CivicPassMessageEventResult.FAILURE]:{type:"civicPass_issuance_failure"},[s.CivicPassMessageEventResult.CANCELLED]:{type:"civicPass_issuance_cancelled"},[s.CivicPassMessageEventResult.IN_PROGRESS]:{type:"civicPass_in_progress"}}[e.event]),a=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"civicPass_refresh_success",payload:e},[s.CivicPassMessageEventResult.CANCELLED]:{type:"civicPass_refresh_cancelled"},[s.CivicPassMessageEventResult.FAILURE]:{type:"civicPass_refresh_failure"}}[e.event]),u=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"powoComplete"}}[e.event]),c=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"civicPass_location_not_supported"}}[e.event]),f=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"civicPass_vpn_not_supported"}}[e.event]),h=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"civicPass_close"}}[e.event]),p=e=>({[s.CivicPassMessageEventResult.SUCCESS]:{type:"civicPass_check_status_complete",payload:e}}[e.event]),d=e=>{const t={[s.CivicPassMessageAction.ISSUANCE]:o(e),[s.CivicPassMessageAction.PROOF_OF_WALLET_OWNERSHIP]:u(e),[s.CivicPassMessageAction.TOKEN_IN_REVIEW]:h(e),[s.CivicPassMessageAction.TOKEN_ACTIVE]:h(e),[s.CivicPassMessageAction.TOKEN_FROZEN]:h(e),[s.CivicPassMessageAction.TOKEN_REJECTED]:h(e),[s.CivicPassMessageAction.TOKEN_REVOKED]:h(e),[s.CivicPassMessageAction.FAILED_IP_CHECK]:c(e),[s.CivicPassMessageAction.FAILED_VPN_CHECK]:f(e),[s.CivicPassMessageAction.REFRESH]:a(e),[s.CivicPassMessageAction.STATUS]:p(e)}[e.action];t&&(l("Successfully processed compliance event with action",t),n(t))};return(0,i.useEffect)((()=>{if(e&&e.publicKey){l("Current state",t);const e=async e=>{d(e.data)};return window.addEventListener("message",e),()=>(l("Removing event listener for compliance"),window.removeEventListener("message",e))}return()=>{}}),[]),(0,i.useEffect)((()=>{r===s.GatekeeperRecordState.LOCATION_NOT_SUPPORTED&&n({type:"civicPass_check_token_status"})}),[r]),(0,i.useEffect)((()=>{r===s.GatekeeperRecordState.NOT_REQUESTED&&n({type:"civicPass_check_status"})}),[r]),{dispatchComplianceEventResult:d}}},8986:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2784),o=n(14451),s=r(n(21708)),a=(e,t=null)=>s.default.debug(`[useCivicPassEventListener] ${e}`,t);t.default=({wallet:e,chainImplementation:t,remoteSign:n})=>{const r=async r=>{if(!e)return;const i=null!==n&&void 0!==n?n:(0,o.remoteSignWindowEventEmitterImplementation)(),u={[o.CivicSignEventTypeRequest.REQUEST_PUBLIC_KEY]:()=>new Promise((t=>{null===i||void 0===i||i.sendPublicKey(e.publicKey),t()})),[o.CivicSignEventTypeRequest.REQUEST_DID]:()=>new Promise((t=>{null===i||void 0===i||i.sendDid(`did:sol:${e.publicKey}`),t()})),[o.CivicSignEventTypeRequest.REQUEST_SIGNED_PROOF]:async()=>{try{const e=await t.proveWalletOwnership();null===i||void 0===i||i.sendSignedProof(e)}catch(e){((e,t=null)=>{s.default.error(`[useCivicPassEventListener] ${e}`,t)})("Error signing proof",e)}}}[r];u&&(await u(),a("Successfully emitted compliance event",r))};return(0,i.useEffect)((()=>{const e=async e=>{await r(e.data)};return window.addEventListener("message",e),()=>(a("Removing event listener for compliance"),window.removeEventListener("message",e))}),[]),{dispatchEvent:r}}},83261:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2784),o=r(n(21708)),s=r(n(99077));t.default=({wallet:e,stage:t,gatekeeperClient:n},r,a)=>{const{expectWalletConnected:u}=(0,s.default)(e,r,a),{gatekeeperNetworkAddress:c,ownerSigns:f}=r,l=(0,i.useCallback)((async({payload:e,proof:t})=>{const r=u();o.default.debug("waitForGatekeeperIssuanceRequest ready to call requestGatewayTokenFromGatekeeper",{payload:e}),a({type:"requestGatekeeperIssuance"});const i=await n().requestGatewayTokenFromGatekeeper({wallet:r,payload:e,proof:t,ownerSigns:null!==f&&void 0!==f&&f});if(o.default.debug("requestGatewayTokenFromGatekeeperResult",i),i.status>=400)throw o.default.error("Error requesting token from gatekeeper"),a({type:"requestGatekeeperIssuanceFailed"}),new Error("Error requesting token from gatekeeper");const{transaction:s}=i;return o.default.debug("Successfully requested gatekeeper token"),a({type:"requestGatekeeperIssuanceComplete",gatewayTokenTransaction:s}),s}),[n,u,t,f]);return(0,i.useEffect)((()=>{e&&e.publicKey&&c&&a({type:"gatekeeperNetworkChanged",gatekeeperNetworkAddress:c})}),[c]),{waitForGatekeeperIssuanceRequest:l,gatekeeperClient:n}}},40272:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const a=n(2784),u=o(n(28044)),c=n(61842),f=s(n(21708)),l=s(n(99077));t.reducer=(e,t)=>{switch(t.type){case"getGatekeeperRecord":return Object.assign(Object.assign({},e),{gatewayStatus:c.GatewayStatus.CHECKING,gatekeeperRecordState:void 0});case"getGatekeeperRecord_failure":return Object.assign(Object.assign({},e),{gatekeeperRecordState:t.gatekeeperRecord.state});case"getGatekeeperRecord_success":return Object.assign(Object.assign({},e),{gatekeeperRecordState:t.gatekeeperRecord.state,civicPass:Object.assign(Object.assign({},e.civicPass),{requestPayload:t.gatekeeperRecord.payload})});case"getGatekeeperRecord_location_not_supported":case"getGatekeeperRecord_issued_location_not_supported":return Object.assign(Object.assign({},e),{gatewayStatus:c.GatewayStatus.LOCATION_NOT_SUPPORTED,gatekeeperRecordState:t.gatekeeperRecord.state,civicPass:Object.assign(Object.assign({},e.civicPass),{requestPayload:t.gatekeeperRecord.payload})});case"getGatekeeperRecord_issued_vpn_not_supported":return Object.assign(Object.assign({},e),{gatewayStatus:c.GatewayStatus.VPN_NOT_SUPPORTED,gatekeeperRecordState:t.gatekeeperRecord.state,civicPass:Object.assign(Object.assign({},e.civicPass),{requestPayload:t.gatekeeperRecord.payload})});case"getGatekeeperRecord_not_found":return Object.assign(Object.assign({},e),{gatekeeperRecordState:t.gatekeeperRecord.state});default:return e}};t.default=({wallet:e,gatekeeperClient:t,httpConfig:n,networkConfig:r},i,o)=>{const{expectWalletConnected:s}=(0,l.default)(e,i,o),h=(e,t=null)=>f.default.debug(`[useGetGatekeeperRecord] ${e}`,t),{gatewayToken:p,gatekeeperNetworkAddress:d}=i,g=()=>({type:"getGatekeeperRecord_failure",gatekeeperRecord:{state:c.GatekeeperRecordState.SERVER_FAILURE,payload:void 0}}),y=e=>({type:"getGatekeeperRecord_success",gatekeeperRecord:e}),w=async()=>{const e=s();h("Fetching Gatekeeper record"),o({type:"getGatekeeperRecord"});try{const r=await t().getGatekeeperRecordWithPayload(e.publicKey);h("Gatekeeper record response state: ",c.GatekeeperRecordState[r.state]);const i=(n=r,{[c.GatekeeperRecordState.REQUESTED]:()=>y(n),[c.GatekeeperRecordState.ISSUED]:()=>y(n),[c.GatekeeperRecordState.ISSUED_EXPIRED]:()=>y(n),[c.GatekeeperRecordState.ISSUED_EXPIRY_APPROACHING]:()=>y(n),[c.GatekeeperRecordState.ISSUED_LOCATION_NOT_SUPPORTED]:()=>({type:"getGatekeeperRecord_issued_location_not_supported",gatekeeperRecord:n}),[c.GatekeeperRecordState.ISSUED_VPN_NOT_SUPPORTED]:()=>({type:"getGatekeeperRecord_issued_vpn_not_supported",gatekeeperRecord:n}),[c.GatekeeperRecordState.LOCATION_NOT_SUPPORTED]:()=>({type:"getGatekeeperRecord_location_not_supported",gatekeeperRecord:n}),[c.GatekeeperRecordState.NOT_REQUESTED]:()=>({type:"getGatekeeperRecord_not_found",gatekeeperRecord:n})}[n.state]);if(!i)return f.default.error("Cannot dispatch action for invalid Gatekeeper Record State.",{record:r}),void o(g());o(i())}catch(r){throw f.default.error("Failed to fetch Gatekeeper record",r),o(g()),r}var n};return(0,a.useEffect)((()=>{r.requiresGatekeeperRecordStatusCheck&&w()}),[null===p||void 0===p?void 0:p.state,null===p||void 0===p?void 0:p.expiryTime,d,(e=>{const t=(0,a.useRef)();return u.equals(e,t.current)||(t.current=e),t.current})(n),r.requiresGatekeeperRecordStatusCheck]),{dispatchGatekeeperRecord:w}}},13311:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2784),o=n(9728),s=r(n(21708)),a=n(61842),u=r(n(66483)),c=r(n(40404)),f=r(n(99077)),l=n(1177),h=r(n(11281)),p=r(n(83261)),d=r(n(40272)),g=r(n(5840)),y=r(n(65285)),w=r(n(8986));t.default=({wallet:e,stage:t,chainImplementation:n,gatekeeperClient:r},m,E)=>{const{expectWalletConnected:v}=(0,f.default)(e,m,E),b=(0,o.getGatekeeperEndpoint)(t),{gatewayToken:S,walletToRefresh:O,civicPass:_,refreshTokenState:R,gatewayStatus:I,gatekeeperNetworkAddress:T,ownerSigns:k,renderIframe:A,refreshTimeoutId:P}=m,C=(0,g.default)({gatekeeperNetworkAddress:T,stage:t}),{waitForConfirmPOWO:N,waitForPOWO:x,waitForHandleTransaction:U}=(0,h.default)({wallet:e,chainImplementation:n},m,E),{waitForGatekeeperIssuanceRequest:j}=(0,p.default)({wallet:e,stage:t,gatekeeperClient:r},m,E),{checkForRefreshWithTimeout:B,refreshToken:M,waitForUnexpiredGatewayToken:L}=(0,c.default)({stage:t,gatekeeperClient:r,networkConfig:C},m,E);(0,y.default)({wallet:e},m,E),(0,w.default)({wallet:e,chainImplementation:n}),(0,u.default)({wallet:e,chainImplementation:n,networkConfig:C},m,E),(0,d.default)({wallet:e,gatekeeperClient:r,httpConfig:n.httpConfig,networkConfig:C},m,E);const G=(0,i.useCallback)((()=>{v(),s.default.debug("waitForCivicPassRefreshResponsePayload");return new Promise((e=>{const t=null===_||void 0===_?void 0:_.responsePayload,n=t&&t[a.CivicPassMessageAction.REFRESH];s.default.debug("Refresh payload...",{refreshPayload:n,refreshPayloadState:void 0===n}),void 0!==n&&(s.default.debug("Refreshing token..."),e(n))}))}),[null===_||void 0===_?void 0:_.responsePayload,v]);(0,i.useEffect)((()=>{I!==a.GatewayStatus.ACTIVE&&R!==a.RefreshTokenState.COMPLETED||(s.default.debug("Start polling for the refresh interval"),B(e))}),[I,R,e,A]),(0,i.useEffect)((()=>{A&&P&&(clearTimeout(P),E({type:"refresh_clear_timeout"}))}),[A,P]);const D=(0,i.useCallback)((async()=>{if(e){s.default.debug("waitForOnChainToken");const t=(0,l.gatewayTokenActionCreator)({wallet:e,chainImplementation:n,gatekeeperClient:r,dispatch:E,networkConfig:C});await t.waitForGatewayToken()}return null}),[b,r,v]),F=(0,i.useCallback)((()=>{v(),s.default.debug("waitForCivicPassIssuanceResponsePayload");return new Promise((e=>{const t=null===_||void 0===_?void 0:_.responsePayload,n=t&&t[a.CivicPassMessageAction.ISSUANCE];s.default.debug("Issuance payload...",n),void 0!==n&&e(n)}))}),[null===_||void 0===_?void 0:_.responsePayload,v]),W=(0,i.useCallback)((async({requiresProofOfWalletOwnership:e,payload:t})=>{if(s.default.debug("Checking for required proof",{requiresProofOfWalletOwnership:e,payload:t}),e){return await N(t).then(x)}return{payload:t}}),[N,x]);(0,i.useEffect)((()=>{k||F().then(W).then(j).then(D).then((()=>B(e))).catch((e=>{E({type:"civicPass_issuance_failure"}),s.default.error("ERROR newTokenRequestFlow",e)}))}),[F,W,j,D,k]),(0,i.useEffect)((()=>{k&&F().then(j).then(U).then(D).then((()=>B(e))).catch((e=>{E({type:"civicPass_issuance_failure"}),s.default.error("ERROR newTokenRequestFlow",e)}))}),[F,W,j,D,k]),(0,i.useEffect)((()=>{if(!k){const t=O||e;G().then(W).then(M(t)).then(L).catch((e=>{s.default.error("refreshFlow",e),s.default.error("refreshToken error",e),E({type:"refresh_failed"})}))}}),[null===_||void 0===_?void 0:_.responsePayload,W,k]),(0,i.useEffect)((()=>{if(k){const t=O||e;G().then(M(t)).then(U).then(L).catch((e=>{s.default.error("refreshFlow",e),s.default.error("refreshToken error",e),E({type:"refresh_failed"})}))}}),[null===_||void 0===_?void 0:_.responsePayload,W,O,e,k]),(0,i.useEffect)((()=>{const t=O||e;R===a.RefreshTokenState.WAIT_FOR_ON_CHAIN&&L().then((()=>B(t))).then((()=>{E({type:"refresh_complete"})})).catch((e=>{s.default.error("refreshFlow",e),s.default.error("refreshToken error",e),E({type:"refresh_failed"})}))}),[S,R,O,e])}},11281:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2784),o=r(n(21708)),s=r(n(99077));t.default=({wallet:e,chainImplementation:t},n,r)=>{const{powoFinished:a,walletPowoInProgress:u,refreshInProgress:c}=n,{expectWalletConnected:f}=(0,s.default)(e,n,r),l=(0,i.useCallback)((async e=>(o.default.debug("usePowo waitForConfirmPOWO before expectWalletConnected",{payload:e}),f(),new Promise((t=>{o.default.debug("usePowo waitForConfirmPOWO",{powoFinished:a}),a&&t(e)})))),[a,f]),h=(0,i.useCallback)((async e=>{o.default.debug("usePowo waitForPOWO before expectWalletConnected");const n=f();return n?(o.default.debug("usePowo waitForPOWO",{payload:e,publicKey:n.publicKey}),new Promise((n=>{o.default.debug("usePowo waitForPOWO walletPowoInProgress",{walletPowoInProgress:u,refreshInProgress:c}),t.proveWalletOwnership().then((t=>{n({proof:t,payload:e}),r({type:"walletPowoComplete"}),r({type:"civicPass_check_token_status"})})).catch((e=>{o.default.error("Proof of wallet ownership error: ",e),r({type:"walletPowoIncomplete"})}))}))):{}}),[f,u,t]);return{waitForConfirmPOWO:l,waitForHandleTransaction:(0,i.useCallback)((async e=>{await t.handleUserSignedTransaction(e),r({type:"walletPowoComplete"}),r({type:"civicPass_check_token_status"})}),[u,t]),waitForPOWO:h}}},40404:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const i=n(2784),o=n(67999),s=r(n(21708)),a=n(61842),u=n(61800);t.reducer=(e,t)=>{switch(t.type){case"refresh_start":return Object.assign(Object.assign({},e),{walletPowoInProgress:!1,powoFinished:!1,powoRequested:void 0,refreshInProgress:!0,gatewayStatus:a.GatewayStatus.REFRESH_TOKEN_REQUIRED});case"refresh_status_check":return Object.assign(Object.assign({},e),{refreshTokenState:a.RefreshTokenState.IN_PROGRESS});case"refresh_complete":return Object.assign(Object.assign({},e),{refreshTokenState:a.RefreshTokenState.COMPLETED,gatewayStatus:(0,o.statusFromToken)(e,e.gatewayToken),refreshTimeoutId:void 0,civicPass:Object.assign(Object.assign({},e.civicPass),{responsePayload:void 0})});case"refresh_failed":return Object.assign(Object.assign({},e),{refreshTokenState:a.RefreshTokenState.FAILED,gatewayStatus:(0,o.statusFromToken)(e,e.gatewayToken),civicPass:Object.assign(Object.assign({},e.civicPass),{responsePayload:void 0})});case"refresh_with_powo_in_progress":return Object.assign(Object.assign({},e),{renderIframe:!1,iframeMinimized:!0,gatewayStatus:a.GatewayStatus.CHECKING});case"refresh_clear_timeout":return Object.assign(Object.assign({},e),{refreshTimeoutId:void 0});case"refresh_set_timeout":return Object.assign(Object.assign({},e),{refreshTimeoutId:t.refreshTimeoutId});case"refresh_token_success":return Object.assign(Object.assign({},e),{refreshTokenState:a.RefreshTokenState.WAIT_FOR_ON_CHAIN});default:return e}};t.default=({stage:e,gatekeeperClient:t,networkConfig:n},r,o)=>{const{refreshTimeoutId:a,gatewayToken:c,gatekeeperNetworkAddress:f,ownerSigns:l,walletAddress:h}=r,p=(e,t=null)=>s.default.debug(`[useRefresh] ${e}`,t),d=(0,i.useRef)(null),g=(0,i.useCallback)((()=>{if(p("Checking if refresh required",a),o({type:"refresh_status_check"}),!a&&(null===c||void 0===c?void 0:c.expiryTime)){const{tokenExpirationMarginSeconds:e}=n,t=(0,u.getTokenRefreshIntervalMilliseconds)(null===c||void 0===c?void 0:c.expiryTime,e),r=setTimeout((()=>{if((0,u.isTokenRefreshRequired)({gatewayToken:c,tokenExpirationMarginSeconds:e}))return p("Refreshing Gateway Token"),o({type:"refresh_start"}),void o({type:"civicPass_check_token_status"});p("Skipping refresh",{gatewayToken:c,tokenExpirationMarginSeconds:e}),o({type:"refresh_complete"})}),t);p("Setting token refresh timeout",{expiring:c.expiryTime,checkForExpirationIntervalMilliseconds:t,margin:e}),o({type:"refresh_set_timeout",refreshTimeoutId:r})}}),[a,e,c,n.tokenExpirationMarginSeconds]);return{checkForRefreshWithTimeout:g,refreshToken:(0,i.useCallback)((e=>async({proof:n,payload:r})=>{p("Refresh token",{payload:r,proof:n}),o({type:"refresh_with_powo_in_progress"});const i=await t().refreshToken({wallet:e,payload:r,proof:n,ownerSigns:null!==l&&void 0!==l&&l});return o({type:"refresh_token_success"}),i.transaction}),[c,t,g,l,h]),waitForUnexpiredGatewayToken:(0,i.useCallback)((()=>new Promise(((e,t)=>{p("Waiting for unexpired token"),d.current&&(p("Clearing interval for gatewayToken",d.current),clearTimeout(d.current),d.current=null);if(!((null===c||void 0===c?void 0:c.expiryTime)&&(0,u.hasExpired)(c.expiryTime)))return p("Gateway token is unexpired",c),void e();d.current=setTimeout((()=>{t(new Error("Gateway token refresh has not been updated onChain"))}),n.waitForTokenRefreshTimoutMilliseconds),p("Starting check for Gateway token expiration timeout with identifier",d.current)}))),[c,d,f])}}},2311:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2784),o=r(n(21708));t.default=({wallet:e},t,n)=>{const{refreshTimeoutId:r}=t;return{requestGatewayToken:(0,i.useCallback)((async()=>{o.default.debug("requestGatewayToken called"),e&&e.publicKey?n({type:"userInteraction_check_gatewayToken_status",token:t.gatewayToken}):o.default.error("No wallet connected")}),[r,t.gatewayToken])}}},99077:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2784),o=r(n(21708));t.default=(e,{refreshTimeoutId:t},n)=>{(0,i.useEffect)((()=>{e&&e.publicKey||(o.default.debug("wallet disconnected"),t&&(o.default.debug("useEffect cleartimeout",t),clearTimeout(t),n({type:"refresh_clear_timeout"})),n({type:"walletDisconnected"}))}),[e,t]);return{expectWalletConnected:(0,i.useCallback)((()=>{if(o.default.debug("expectWalletConnected",e),!e||!e.publicKey)throw new Error("No wallet connnected");return e}),[e])}}},85836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34600),i=n(40272),o=n(65285),s=n(66483),a=n(40404),u=(0,r.combineReducers)(o.reducer,r.reducer,i.reducer,s.reducer,a.reducer);t.default=u},34600:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.combineReducers=void 0;const i=r(n(21708)),o=n(61842),s=n(67999);t.combineReducers=(...e)=>(t,n)=>e.reduce(((e,t)=>t(e,n)),t);t.reducer=(e,t)=>{var n;const r=(0,s.statusFromToken)(e,e.gatewayToken)||o.GatewayStatus.UNKNOWN,a=Object.assign(Object.assign({},e),{gatewayStatus:r}),u=!!(null===(n=a.civicPass.responsePayload)||void 0===n?void 0:n.hasOwnProperty(o.CivicPassMessageAction.ISSUANCE));switch(i.default.debug(`reducer.action: ${t.type}`,o.GatewayStatus[a.gatewayStatus]),t.type){case"startWalletPowo":return Object.assign(Object.assign({},a),{walletPowoInProgress:!0});case"walletPowoComplete":return i.default.debug("tokenCreationInProgress",{tokenCreationInProgress:u}),Object.assign(Object.assign({},a),{gatewayStatus:u?o.GatewayStatus.IN_REVIEW:a.gatewayStatus,walletPowoInProgress:!1,firstTokenCheck:!1});case"walletPowoIncomplete":return i.default.debug("tokenCreationInProgress",{tokenCreationInProgress:u}),Object.assign(Object.assign({},e),{renderIframe:!1,iframeMinimized:!0,powoFinished:!1,refreshTokenState:o.RefreshTokenState.IN_PROGRESS});case"tokenChange":return Object.assign(Object.assign({},e),{gatewayStatus:(0,s.statusFromToken)(e,t.token),powoFinished:!1,gatewayToken:t.token,tokenIssuanceState:o.TokenIssuanceState.COMPLETED});case"powoComplete":return Object.assign(Object.assign({},a),{gatewayStatus:o.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP,powoFinished:!0,powoRequested:void 0,refreshTimeoutId:void 0,refreshTokenState:e.refreshTokenState===o.RefreshTokenState.IN_PROGRESS?o.RefreshTokenState.REQUIRES_POWO:e.refreshTokenState});case"walletDisconnected":return(0,s.resetState)(e);case"requestGatekeeperIssuance":return Object.assign(Object.assign({},a),{powoFinished:!1,walletPowoInProgress:!1,tokenIssuanceState:o.TokenIssuanceState.IN_PROGRESS});case"requestGatekeeperIssuanceComplete":return Object.assign(Object.assign({},a),{tokenIssuanceState:o.TokenIssuanceState.COMPLETED,gatewayTokenTransaction:t.gatewayTokenTransaction,civicPass:Object.assign(Object.assign({},a.civicPass),{responsePayload:void 0})});case"requestGatekeeperIssuanceFailed":return Object.assign(Object.assign({},(0,s.resetState)(e)),{gatewayStatus:o.GatewayStatus.ERROR,tokenIssuanceState:o.TokenIssuanceState.FAILED});case"refreshAttemptDone":return Object.assign(Object.assign({},a),{refreshInProgress:!1});case"updateStateWithProps":return Object.assign(Object.assign({},e),{stage:t.stage,walletAddress:t.walletAddress,redirectUrl:t.redirectUrl,gatekeeperNetworkAddress:t.gatekeeperNetworkAddress,ownerSigns:t.ownerSigns});case"tokenNotFoundError":return Object.assign(Object.assign({},e),{renderIframe:!1,iframeMinimized:!0,gatewayStatus:o.GatewayStatus.ERROR});case"gatekeeperNetworkChanged":return Object.assign(Object.assign({},(0,s.resetState)(e)),{gatekeeperNetworkAddress:t.gatekeeperNetworkAddress,walletAddress:e.walletAddress});default:return e}}},67999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusFromToken=t.resetState=void 0;const r=n(61842);t.resetState=e=>Object.assign(Object.assign({},e),{gatewayStatus:r.GatewayStatus.UNKNOWN,tokenRequested:!1,iframeMinimized:!1,firstTokenCheck:!0,renderIframe:!1,gatewayToken:void 0,powoRequested:void 0,refreshTimeoutId:void 0,powoFinished:!1,refreshInProgress:!1,tokenIssuanceState:r.TokenIssuanceState.NOT_REQUESTED,walletToRefresh:void 0,walletPowoInProgress:!1,gatekeeperRecordState:void 0,civicPass:{status:r.CivicPassIssuanceStatus.NOT_REQUESTED,iframeMinimized:!1,renderIframe:!1}});t.statusFromToken=(e,t)=>{if(!t)return e.gatewayStatus;switch(t.state){case r.State.ACTIVE:return(n=e.gatekeeperRecordState)&&[r.GatekeeperRecordState.LOCATION_NOT_SUPPORTED].includes(n)?r.GatewayStatus.LOCATION_NOT_SUPPORTED:(e=>!!e&&[r.GatekeeperRecordState.ISSUED_VPN_NOT_SUPPORTED].includes(e))(e.gatekeeperRecordState)?r.GatewayStatus.VPN_NOT_SUPPORTED:(e=>!!e&&[r.GatekeeperRecordState.ISSUED_LOCATION_NOT_SUPPORTED].includes(e))(e.gatekeeperRecordState)?r.GatewayStatus.REFRESH_TOKEN_REQUIRED:e.gatewayStatus===r.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP?r.GatewayStatus.PROOF_OF_WALLET_OWNERSHIP:(e=>{const t=Math.floor(Date.now()/1e3);return!!e.expiryTime&&t>=e.expiryTime})(t)?r.GatewayStatus.REFRESH_TOKEN_REQUIRED:r.GatewayStatus.ACTIVE;case r.State.REVOKED:return r.GatewayStatus.REVOKED;case r.State.FROZEN:return r.GatewayStatus.FROZEN;default:return r.GatewayStatus.UNKNOWN}var n}},81189:function(e,t,n){"use strict";var r=n(34406),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(14359)),s=n(61842),a=i(n(21708)),u=n(19933),c=i(n(40874)),f={"X-Civic-Client":`${(0,c.default)()}`};t.default=class{constructor(e){this.baseUrl=e.baseUrl,this.stage=e.stage,this.queryParams=e.queryParams,this.fetchImplementation=e.fetchImplementation||fetch,this.defaultRetryParams={retries:e.numRetries||(0,u.getDefaultApiNumRetries)(this.stage),retryOn:(e,t,n,r)=>e<t&&(!!n||!r||r.status>=500),retryDelay:e=>2**e*1e3*(parseFloat(r.env.TEST_RETRY_MULTIPLIER||"")||1)},this.fetchWithRetry=(0,o.default)(this.fetchImplementation,this.defaultRetryParams)}addQueryParams(e){this.queryParams&&Object.entries(this.queryParams).forEach((([t,n])=>{e.searchParams.append(t,n)}))}urlForWallet(e){const t=new URL(`${this.baseUrl}/${e}`);return this.addQueryParams(t),t.toString()}async getGatekeeperRecordWithPayload(e){return this.fetchWithRetry(this.urlForWallet(e),{method:"GET",headers:f}).then((async e=>({state:s.GatekeeperRecordState[s.GatekeeperRecordState[e.status]],payload:await e.json()})))}async getGatekeeperStatus(e){return this.fetchWithRetry(this.urlForWallet(e),{method:"HEAD",headers:f}).then((({status:e})=>e))}async requestGatewayTokenFromGatekeeper({wallet:e,payload:t,proof:n,ownerSigns:r}){a.default.debug("requestGatewayTokenFromGatekeeper request",Object.assign(Object.assign({},t),{proof:n}));const i=Object.assign(Object.assign({},t),{proof:n,address:e.publicKey,ownerSigns:r});a.default.debug("requestGatewayTokenFromGatekeeper Requesting a new gatekeeper token...",i);const o=new URL(this.baseUrl);return this.addQueryParams(o),this.fetchWithRetry(o.toString(),{method:"POST",headers:Object.assign(Object.assign({},f),{"Content-Type":"application/json"}),body:JSON.stringify(i)}).then((async e=>{const{status:t}=e,n=await e.json();return Object.assign(Object.assign({},n),{status:t})}))}async refreshToken({wallet:e,payload:t,proof:n,ownerSigns:r}){a.default.debug("refreshToken...",{payload:t}),a.default.debug("Attempting to refresh the Gateway token");const i=Object.assign(Object.assign({},t),{proof:n,request:"refresh",ownerSigns:r});return this.fetchWithRetry(this.urlForWallet(e.publicKey),{method:"PATCH",headers:Object.assign(Object.assign({},f),{"Content-Type":"application/json"}),body:JSON.stringify(i)}).then((async e=>{const{status:t}=e,n=await e.json();return Object.assign(Object.assign({},n),{status:t})}))}}},14451:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.remoteSignWindowEventEmitterImplementation=t.RemoteSignWindowEventEmitter=t.CivicSignEventTypeRequest=t.CivicSignEventTypeResponse=t.eventEmitter=void 0;const i=r(n(21708)),o=n(32397);var s;t.eventEmitter=e=>({postMessage:(t,n)=>{e.postMessage(t,n)}}),function(e){e.RESPONSE_PUBLIC_KEY="RESPONSE_PUBLIC_KEY",e.RESPONSE_DID="RESPONSE_DID",e.RESPONSE_SIGNED_PROOF="RESPONSE_SIGNED_PROOF"}(s=t.CivicSignEventTypeResponse||(t.CivicSignEventTypeResponse={})),function(e){e.REQUEST_PUBLIC_KEY="REQUEST_PUBLIC_KEY",e.REQUEST_DID="REQUEST_DID",e.REQUEST_SIGNED_PROOF="REQUEST_SIGNED_PROOF"}(t.CivicSignEventTypeRequest||(t.CivicSignEventTypeRequest={}));class a{constructor(e){this.targetWindow=e}sendPublicKey(e){this.emit({event:s.RESPONSE_PUBLIC_KEY,data:e})}sendDid(e){this.emit({event:s.RESPONSE_DID,data:e})}sendSignedProof(e){this.emit({event:s.RESPONSE_SIGNED_PROOF,data:e})}emit(e){this.targetWindow.postMessage(e,"*")}}t.RemoteSignWindowEventEmitter=a;t.remoteSignWindowEventEmitterImplementation=()=>{var e;const n=null===(e=document.getElementById(o.IFRAME_ID))||void 0===e?void 0:e.contentWindow;return n?new a((0,t.eventEmitter)(n)):(i.default.debug("no iFrame window present"),null)}},61800:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTokenRefreshIntervalMilliseconds=t.isTokenRefreshRequired=t.hasExpired=void 0;const i=r(n(21708)),o=n(61842);t.hasExpired=e=>{if(!e)return!1;return Math.floor(Date.now()/1e3)>=e};t.isTokenRefreshRequired=({gatewayToken:e,tokenExpirationMarginSeconds:n})=>{const{expiryTime:r,state:s}=e,a=s===o.State.ACTIVE;return!(!r||!a)&&((0,t.hasExpired)(r)||((e,t)=>{const n=Math.floor(Date.now()/1e3);return i.default.debug("checking if the token is approaching expiry",{tokenExpirationMarginSeconds:t,currentExpiry:e,now:n,approachingExpiryResult:e-n<t}),e-n<t})(r,n))};t.getTokenRefreshIntervalMilliseconds=(e,t)=>{const n=e-Math.floor(Date.now()/1e3)-t;return n>0?1e3*n:0}},40874:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(21708));let o="";t.default=()=>{if(o)return o;try{const e=n(27562);e&&(o=`${e.name}:${e.version}`)}catch(e){i.default.error("Error retrieving version from ../../package.json")}return o}},63223:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2784));t.default=function({color:e="#777777",light:t=!1}){const n=t?"#FFFFFF":e;return i.default.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:n,xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{d:"M14.0082 0.865234L8.00683 6.86523L2.00683 0.865234L0.00683594 2.86523L6.00683 8.86523L0.00683594 14.8652L2.00683 16.8652L8.00683 10.8652L14.0082 16.8652L16.0082 14.8652L10.0082 8.86523L16.0082 2.86523L14.0082 0.865234Z"}))}},51634:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(n(2784)),u=o(n(39829)),c={position:"absolute",top:0,left:0},f=u.keyframes`
  0% {
    transform: translate(-320px, 0);
  }

  to {
    transform: translate(320px, 0);
  }
`,l=u.default.path`
  animation: 1s linear infinite both ${f};
`;t.default=function(){return a.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 320 16","white-space":"pre",height:"26",width:"100%",style:Object.assign(Object.assign({},c),{position:"absolute"})},a.default.createElement("defs",null,a.default.createElement("linearGradient",{id:"Gradient-0",x2:"320",y1:"15",y2:"15",gradientUnits:"userSpaceOnUse"},a.default.createElement("stop",{offset:"0",stopColor:"#ffffff"}),a.default.createElement("stop",{offset:".511",stopColor:"#9A9DA6"}),a.default.createElement("stop",{offset:"1",stopColor:"#ffffff"}))),a.default.createElement("path",{id:"rect",fill:"#f6f7f8",d:"M0 0h320v16H0z"}),a.default.createElement(l,{id:"shimmer",fill:"url(#Gradient-0)",d:"M0 0h320v16H0z",transform:"translate(-320)"}))}},1274:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;const i=r(n(2784)),o=r(n(63223)),s=r(n(51634)),a=n(32397),u={background:"rgba(0,0,0,0.5)",position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},c={display:"flex",flexDirection:"column",maxWidth:"526px",width:"100%",maxHeight:"100",background:"#fff",borderRadius:"4px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.25)",overflow:"hidden"},f={top:"5px",right:"5px",padding:"10px",background:"transparent",border:"none",borderRadius:"25px",height:"50px",width:"50px",cursor:"pointer"},l={height:"80px",flexGrow:0,flexShrink:0,flexBasis:"80px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px 4px 0 0",borderBottom:"1px solid #ddd",position:"relative"},h={maxHeight:"40px",maxWidth:"100%",height:"auto",width:"auto"},p=({children:e=null,onClose:t,logo:n,loaded:r=!1})=>i.default.createElement("div",{style:Object.assign(Object.assign({},u),{position:"fixed",flexDirection:"column",zIndex:999})},i.default.createElement("div",{style:Object.assign(Object.assign({},c),{flexDirection:"column",position:"relative"})},n&&i.default.createElement("header",{style:Object.assign(Object.assign({},l),{position:"relative"})},i.default.createElement("img",{style:h,src:n,alt:"logo"})),!r&&i.default.createElement(s.default,null),i.default.createElement("button",{"data-testid":a.TESTID_IFRAME_CLOSE_BTN,type:"button",onClick:t,style:Object.assign(Object.assign({},f),{display:r?"block":"none",position:"absolute"})},i.default.createElement(o.default,null)),e));t.Wrapper=({wrapper:e,onClose:t,children:n=null,logo:r,loaded:s=!1})=>{if(e){const r=e;return i.default.createElement(r,null,s&&i.default.createElement("button",{type:"button",onClick:t,style:Object.assign(Object.assign({},f),{display:s?"block":"none",position:"absolute"})},i.default.createElement(o.default,null)),n)}return i.default.createElement(p,{onClose:t,logo:r,loaded:s},n)}},98159:function(e,t,n){"use strict";const r=n(95766),i=n(62333),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Q(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|d(e))}function h(e){const t=e.length<0?0:0|d(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function d(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Q(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return H($(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return H(q(t),e,n,r)}function _(e,t,n,r){return H(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n);for(let u=0;u<a;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Z[e[o]];return i}function C(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function j(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=J((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=J((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const G={};function D(e,t,n){G[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new G.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||K(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!==typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},76468:function(e,t,n){"use strict";n.r(t),n.d(t,{DEFAULT_CONFIG:function(){return l},prove:function(){return m},verify:function(){return v},verifyStatic:function(){return E}});var r=n(44745),i=n(17022);function o(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,u,"next",e)}function u(e){o(s,r,i,a,u,"throw",e)}a(void 0)}))}}var a,u=(function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),s=new k(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=R(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=f(e,t,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",g={};function y(){}function w(){}function m(){}var E={};E[o]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(A([])));b&&b!==n&&r.call(b,o)&&(E=b);var S=m.prototype=y.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,s,a){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function R(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=f(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return w.prototype=S.constructor=m,m.constructor=w,w.displayName=u(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},O(_.prototype),_.prototype[s]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(S),u(S,a,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}(a={exports:{}},a.exports),a.exports),c=function(e){return function(){var t=s(u.mark((function t(n){return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.sign(e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return"Keypair"===e.constructor.name},l={cluster:"mainnet-beta",commitment:"confirmed",supportedClusterUrls:{},recentBlockCheck:!0,broadcastCheck:!0},h=function(e){return e.supportedClusterUrls&&e.supportedClusterUrls[e.cluster]?e.supportedClusterUrls[e.cluster]:(0,r.Wf)(e.cluster)},p=function(){var e=s(u.mark((function e(t,n,i,o){var s,a,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.yc.transfer({fromPubkey:n,lamports:o,toPubkey:i}),e.next=3,t.getRecentBlockhash();case 3:return a=e.sent,c=a.blockhash,e.abrupt("return",new r.YW({recentBlockhash:c,feePayer:n}).add(s));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),d=function(){var e=s(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getFeeCalculatorForBlockhash(n,"confirmed").then((function(e){if(!e.value)throw new Error("Block was not found")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=s(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.recentBlockhash){e.next=2;break}throw new Error("Transaction has no recent blockhash!");case 2:return e.next=4,d(t,n.recentBlockhash);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=s(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.signature){e.next=2;break}throw new Error("Transaction has no signature");case 2:return r=(0,i.encode)(n.signature),e.abrupt("return",t.getTransaction(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=s(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t,n).then((function(e){if(e)throw new Error("Transaction was broadcast!")})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=s(u.mark((function e(t,n,i){var o,s,a,d,g;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=l),!f(t)||!n){e.next=3;break}throw new Error("Provide a keypair or a signer, not both");case 3:if(f(t)||n){e.next=5;break}throw new Error("Provide either a keypair or a signer");case 5:return o=n||c(t),s=i.connection||new r.ew(h(i),i.commitment),a=f(u=t)?u.publicKey:u,e.next=10,p(s,a,a,0);case 10:return d=e.sent,e.next=13,o(d);case 13:return g=e.sent,e.abrupt("return",g.serialize());case 15:case"end":return e.stop()}var u}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E=function(e,t){var n=r.YW.from(e);!function(e,t){if(!e.verifySignatures())throw new Error("Signatures not verified");if(!e.signatures.find((function(e){return e.publicKey.equals(t)})))throw new Error("Missing signature for "+t.toBase58())}(n,t),function(e){if(1!==e.instructions.length)throw new Error("Incorrect instruction count. The transaction must contain only one Transfer instruction");var t,n=e.instructions[0];try{t=r.vU.decodeTransfer(n)}catch(i){throw console.log(i),new Error("Invalid instruction. The transaction must contain a Transfer instruction")}if(!t.fromPubkey.equals(t.toPubkey))throw new Error("The transaction must be self-to-self");if(0!==t.lamports)throw new Error("The transaction must have zero value")}(n)},v=function(){var e=s(u.mark((function e(t,n,i){var o,s,a,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=l),E(t,n),o=r.YW.from(t),s=i.connection||new r.ew(h(i),i.commitment),a=i.broadcastCheck?w(s,o):Promise.resolve(),c=i.recentBlockCheck?g(s,o):Promise.resolve(),e.next=8,Promise.all([a,c]);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},500:function(e,t,n){"use strict";const r=n(95766),i=n(62333),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Q(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|d(e))}function h(e){const t=e.length<0?0:0|d(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function d(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Q(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return H($(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return H(q(t),e,n,r)}function _(e,t,n,r){return H(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n);for(let u=0;u<a;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Z[e[o]];return i}function C(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function j(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=J((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=J((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const G={};function D(e,t,n){G[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new G.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||K(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!==typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},21940:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(38342),t),i(n(19382),t),i(n(64218),t),i(n(94914),t),i(n(19569),t)},81575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignablePublicKey=void 0;const r=n(68387),i=n(90087);class o extends r.Assignable{toPublicKey(){return new i.PublicKey(this.bytes)}toString(){return this.toPublicKey().toBase58()}static parse(e){return o.fromPublicKey(new i.PublicKey(e))}static fromPublicKey(e){return new o({bytes:Uint8Array.from(e.toBuffer())})}static empty(){const e=new Array(32);return e.fill(0),new o({bytes:e})}}t.AssignablePublicKey=o,r.SCHEMA.set(o,{kind:"struct",fields:[["bytes",[32]]]})},64218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatewayTokenState=t.Revoked=t.Frozen=t.Active=t.GatewayTokenData=void 0;const r=n(90087),i=n(68387),o=n(81575);class s extends i.Assignable{static fromAccount(e){return s.decode(e)}forAuthority(e){return new s(Object.assign(Object.assign({},this),{authority:o.AssignablePublicKey.fromPublicKey(e)}))}static empty(e){return new s({owner:o.AssignablePublicKey.fromPublicKey(e||r.Keypair.generate().publicKey)})}}t.GatewayTokenData=s;class a extends i.Assignable{}t.Active=a;class u extends i.Assignable{}t.Frozen=u;class c extends i.Assignable{}t.Revoked=c;class f extends i.Enum{}t.GatewayTokenState=f,i.SCHEMA.set(s,{kind:"struct",fields:[["features",[1]],["parentGatewayToken",{kind:"option",type:o.AssignablePublicKey}],["owner",o.AssignablePublicKey],["ownerIdentity",{kind:"option",type:o.AssignablePublicKey}],["gatekeeperNetwork",o.AssignablePublicKey],["issuingGatekeeper",o.AssignablePublicKey],["state",f],["expiry",{kind:"option",type:"u64"}]]}),i.SCHEMA.set(f,{kind:"enum",field:"enum",values:[["active",a],["frozen",u],["revoked",c]]}),i.SCHEMA.set(a,{kind:"struct",fields:[]}),i.SCHEMA.set(u,{kind:"struct",fields:[]}),i.SCHEMA.set(c,{kind:"struct",fields:[]})},19569:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOLANA_TIMEOUT_FINALIZED=t.SOLANA_TIMEOUT_CONFIRMED=t.SOLANA_TIMEOUT_PROCESSED=t.DEFAULT_SOLANA_RETRIES=t.SOLANA_COMMITMENT=t.GATEWAY_TOKEN_ADDRESS_SEED=t.GATEKEEPER_NONCE_SEED_STRING=t.PROGRAM_ID=void 0;const r=n(90087);t.PROGRAM_ID=new r.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),t.GATEKEEPER_NONCE_SEED_STRING="gatekeeper",t.GATEWAY_TOKEN_ADDRESS_SEED="gateway",t.SOLANA_COMMITMENT="confirmed",t.DEFAULT_SOLANA_RETRIES=3,t.SOLANA_TIMEOUT_PROCESSED=3e3,t.SOLANA_TIMEOUT_CONFIRMED=7e3,t.SOLANA_TIMEOUT_FINALIZED=1e4},38342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateExpiry=t.unfreeze=t.freeze=t.revoke=t.issueVanilla=t.revokeGatekeeper=t.addGatekeeper=t.GatewayInstruction=void 0;const r=n(68387),i=n(19569),o=n(90087),s=n(64218);class a extends r.Assignable{}class u extends r.Assignable{}class c extends r.Assignable{}class f extends r.Assignable{}class l extends r.Assignable{}class h extends r.Enum{static addGatekeeper(){return new h({addGatekeeper:new a({})})}static issueVanilla(e,t){return new h({issueVanilla:new u({seed:e,expireTime:t})})}static revoke(){return new h({setState:new c({state:new s.GatewayTokenState({revoked:new s.Revoked({})})})})}static freeze(){return new h({setState:new c({state:new s.GatewayTokenState({frozen:new s.Frozen({})})})})}static unfreeze(){return new h({setState:new c({state:new s.GatewayTokenState({active:new s.Active({})})})})}static updateExpiry(e){return new h({updateExpiry:new f({expireTime:e})})}static revokeGatekeeper(){return new h({revokeGatekeeper:new l({})})}}t.GatewayInstruction=h,t.addGatekeeper=function(e,t,n,r){const s=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1}],a=h.addGatekeeper().encode();return new o.TransactionInstruction({keys:s,programId:i.PROGRAM_ID,data:a})},t.revokeGatekeeper=function(e,t,n,r){const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],a=h.revokeGatekeeper().encode();return new o.TransactionInstruction({keys:s,programId:i.PROGRAM_ID,data:a})},t.issueVanilla=function(e,t,n,r,s,a,u,c){const f=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1}],l=h.issueVanilla(u,c).encode();return new o.TransactionInstruction({keys:f,programId:i.PROGRAM_ID,data:l})};const p=(e,t,n)=>[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];t.revoke=function(e,t,n){const r=p(e,t,n),s=h.revoke().encode();return new o.TransactionInstruction({keys:r,programId:i.PROGRAM_ID,data:s})},t.freeze=function(e,t,n){const r=p(e,t,n),s=h.freeze().encode();return new o.TransactionInstruction({keys:r,programId:i.PROGRAM_ID,data:s})},t.unfreeze=function(e,t,n){const r=p(e,t,n),s=h.unfreeze().encode();return new o.TransactionInstruction({keys:r,programId:i.PROGRAM_ID,data:s})},t.updateExpiry=function(e,t,n,r){const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}],a=h.updateExpiry(r).encode();return new o.TransactionInstruction({keys:s,programId:i.PROGRAM_ID,data:a})},r.SCHEMA.set(h,{kind:"enum",field:"enum",values:[["addGatekeeper",a],["issueVanilla",u],["setState",c],["updateExpiry",f],["revokeGatekeeper",l]]}),r.SCHEMA.set(a,{kind:"struct",fields:[]}),r.SCHEMA.set(u,{kind:"struct",fields:[["seed",{kind:"option",type:[8]}],["expireTime",{kind:"option",type:"u64"}]]}),r.SCHEMA.set(c,{kind:"struct",fields:[["state",s.GatewayTokenState]]}),r.SCHEMA.set(f,{kind:"struct",fields:[["expireTime","u64"]]}),r.SCHEMA.set(l,{kind:"struct",fields:[]})},68387:function(e,t,n){"use strict";var r=n(60345).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Enum=t.Assignable=t.SCHEMA=void 0;const i=n(83871);t.SCHEMA=new Map;class o{constructor(e){Object.keys(e).forEach((t=>{this[t]=e[t]}))}encode(){return r.from((0,i.serialize)(t.SCHEMA,this))}static decode(e){return(0,i.deserialize)(t.SCHEMA,this,e)}}t.Assignable=o;t.Enum=class extends o{constructor(e){if(super(e),1!==Object.keys(e).length)throw new Error("Enum can only take single value");this.enum="",Object.keys(e).forEach((e=>{this.enum=e}))}}},19382:function(e,t,n){"use strict";var r=n(60345).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.gatekeeperExists=t.getGatewayToken=t.removeAccountChangeListener=t.onGatewayTokenChange=t.findGatewayToken=t.findGatewayTokens=t.dataToGatewayToken=t.getGatewayTokenAddressForOwnerAndGatekeeperNetwork=t.getGatekeeperAccountAddress=void 0;const o=n(90087),s=n(19569),a=n(94914),u=n(64218);t.getGatekeeperAccountAddress=(e,t)=>i(void 0,void 0,void 0,(function*(){return(yield o.PublicKey.findProgramAddress([e.toBuffer(),t.toBuffer(),r.from(s.GATEKEEPER_NONCE_SEED_STRING,"utf8")],s.PROGRAM_ID))[0]}));t.getGatewayTokenAddressForOwnerAndGatekeeperNetwork=(e,t,n)=>i(void 0,void 0,void 0,(function*(){const i=n?r.from(n):r.from([0,0,0,0,0,0,0,0]);if(8!=i.length)throw new Error("Additional Seed has length "+i.length+" instead of 8 when calling getGatewayTokenAddressForOwnerAndGatekeeperNetwork.");const a=[e.toBuffer(),r.from(s.GATEWAY_TOKEN_ADDRESS_SEED,"utf8"),i,t.toBuffer()];return(yield o.PublicKey.findProgramAddress(a,s.PROGRAM_ID))[0]}));t.dataToGatewayToken=(e,t)=>{var n;return new a.GatewayToken(e.issuingGatekeeper.toPublicKey(),e.gatekeeperNetwork.toPublicKey(),e.owner.toPublicKey(),function(e){if(e.active)return a.State.ACTIVE;if(e.revoked)return a.State.REVOKED;if(e.frozen)return a.State.FROZEN;throw new Error("Unrecognised state "+JSON.stringify(e))}(e.state),t,s.PROGRAM_ID,null===(n=e.expiry)||void 0===n?void 0:n.toNumber())};t.findGatewayTokens=(e,n,r,o=!1)=>i(void 0,void 0,void 0,(function*(){const i=[{memcmp:{offset:2,bytes:n.toBase58()}},{memcmp:{offset:35,bytes:null===r||void 0===r?void 0:r.toBase58()}}],c=yield e.getProgramAccounts(s.PROGRAM_ID,{filters:i});if(!c)return[];return c.map((({pubkey:e,account:n})=>(0,t.dataToGatewayToken)(u.GatewayTokenData.fromAccount(n.data),e))).filter((e=>e.state!==a.State.REVOKED||o))}));t.findGatewayToken=(e,n,r)=>i(void 0,void 0,void 0,(function*(){const i=yield(0,t.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(n,r),o=yield e.getAccountInfo(i,s.SOLANA_COMMITMENT);return o?(0,t.dataToGatewayToken)(u.GatewayTokenData.fromAccount(o.data),i):null}));t.onGatewayTokenChange=(e,n,r,i=s.SOLANA_COMMITMENT)=>e.onAccountChange(n,(e=>{const i=(0,t.dataToGatewayToken)(u.GatewayTokenData.fromAccount(e.data),n);r(i)}),i);t.removeAccountChangeListener=(e,t)=>e.removeAccountChangeListener(t);t.getGatewayToken=(e,n)=>i(void 0,void 0,void 0,(function*(){const r=yield e.getAccountInfo(n,s.SOLANA_COMMITMENT);return r?(0,t.dataToGatewayToken)(u.GatewayTokenData.fromAccount(r.data),n):null}));t.gatekeeperExists=(e,n,r)=>i(void 0,void 0,void 0,(function*(){const i=yield(0,t.getGatekeeperAccountAddress)(n,r),o=yield e.getAccountInfo(i,s.SOLANA_COMMITMENT);return null!=o&&o.owner==s.PROGRAM_ID}))},94914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatewayToken=t.State=void 0;const r=n(64218),i=n(19382);var o;!function(e){e.ACTIVE="ACTIVE",e.REVOKED="REVOKED",e.FROZEN="FROZEN"}(o=t.State||(t.State={}));class s{constructor(e,t,n,r,i,o,s){this.issuingGatekeeper=e,this.gatekeeperNetwork=t,this.owner=n,this.state=r,this.publicKey=i,this.programId=o,this.expiryTime=s}isValid(){return this.state===o.ACTIVE&&!this.hasExpired()}hasExpired(){const e=Math.floor(Date.now()/1e3);return!!this.expiryTime&&e>this.expiryTime}static fromAccount(e,t){const n=r.GatewayTokenData.fromAccount(e.data);return(0,i.dataToGatewayToken)(n,t)}update({state:e,expiryTime:t}){return new s(this.issuingGatekeeper,this.gatekeeperNetwork,this.owner,e,this.publicKey,this.programId,t||this.expiryTime)}}t.GatewayToken=s},60345:function(e,t,n){"use strict";const r=n(95766),i=n(62333),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Q(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|d(e))}function h(e){const t=e.length<0?0:0|d(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function d(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Q(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return H($(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return H(q(t),e,n,r)}function _(e,t,n,r){return H(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return f(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),f=e.slice(t,n);for(let u=0;u<a;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Z[e[o]];return i}function C(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function j(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=J((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=J((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const G={};function D(e,t,n){G[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function W(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new G.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||K(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!==typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},14359:function(e,t){"use strict";function n(e,t){const n=Object.assign(Object.assign({},t),e);return"undefined"===typeof n.retries&&(n.retries=t.retries),"undefined"===typeof n.retryDelay&&(n.retryDelay=t.retryDelay),"undefined"===typeof n.retryOn&&(n.retryOn=t.retryOn),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t={}){const r=n(t,{retries:3,retryDelay:500,retryOn:[419,503,504]});return function(t,i){const o=n({retries:null===i||void 0===i?void 0:i.retries,retryDelay:null===i||void 0===i?void 0:i.retryDelay,retryOn:null===i||void 0===i?void 0:i.retryOn},r),s="function"===typeof o.retryDelay?o.retryDelay:()=>o.retryDelay,a="function"===typeof o.retryOn?o.retryOn:(e,t,n,r)=>(!!n||!r||-1!==o.retryOn.indexOf(r.status))&&e<t;return new Promise((function(n,r){const u=function(s){e(t,i).then((function(e){a(s,o.retries,null,e)?c(s,null,e):n(e)})).catch((function(e){a(s,o.retries,e,null)?c(s,e,null):r(e)}))};function c(e,t,n){setTimeout((function(){u(++e)}),s(e,t,n))}u(0)}))}}},18873:function(e,t,n){"use strict";n.r(t);var r=n(13980),i=n.n(r),o=n(2784);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var u,c=(function(e){!function(t){if("undefined"!==typeof window){var n,r=0,i=!1,o=!1,s="message".length,a="[iFrameSizer]",u=a.length,c=null,f=window.requestAnimationFrame,l={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},h={},p=null,d={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){O("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},g={};window.jQuery&&((n=window.jQuery).fn?n.fn.iFrameResize||(n.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){M(n,e)})).end()}):S("","Unable to bind to jQuery, it is not fully loaded.")),e.exports=W(),window.iFrameResize=window.iFrameResize||W()}function y(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function w(e,t,n){e.addEventListener(t,n,!1)}function m(e,t,n){e.removeEventListener(t,n,!1)}function E(e){return a+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function v(e){return h[e]?h[e].log:i}function b(e,t){_("log",e,t,v(e))}function S(e,t){_("info",e,t,v(e))}function O(e,t){_("warn",e,t,!0)}function _(e,t,n,r){!0===r&&"object"===typeof window.console&&console[e](E(t),n)}function R(e){function t(){i("Height"),i("Width"),U((function(){x(_),P(R),E("onResized",_)}),_,"init")}function n(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function r(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function i(e){var t=Number(h[R]["max"+e]),n=Number(h[R]["min"+e]),r=e.toLowerCase(),i=Number(_[r]);b(R,"Checking "+r+" is in range "+n+"-"+t),i<n&&(i=n,b(R,"Set "+r+" to min value")),i>t&&(i=t,b(R,"Set "+r+" to max value")),_[r]=""+i}function o(e){return v.substr(v.indexOf(":")+s+e)}function f(e,t){var n,r,i;n=function(){j("Send Page Info","pageInfo:"+function(){var e=document.body.getBoundingClientRect(),t=_.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}(),e,t)},r=32,g[i=t]||(g[i]=setTimeout((function(){g[i]=null,n()}),r))}function l(e){var t=e.getBoundingClientRect();return A(R),{x:Math.floor(Number(t.left)+Number(c.x)),y:Math.floor(Number(t.top)+Number(c.y))}}function p(e){var t=e?l(_.iframe):{x:0,y:0},n={x:Number(_.width)+t.x,y:Number(_.height)+t.y};b(R,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):O(R,"Unable to scroll to requested position, window.parentIFrame not found"):(c=n,d(),b(R,"--"))}function d(){!1!==E("onScroll",c)?P(R):C()}function y(e){E(e,{iframe:_.iframe,screenX:_.width,screenY:_.height,type:_.type})}function E(e,t){return I(R,e,t)}var v=e.data,_={},R=null;"[iFrameResizerChild]Ready"===v?function(){for(var e in h)j("iFrame requested init",B(e),h[e].iframe,e)}():a===(""+v).substr(0,u)&&v.substr(u).split(":")[0]in h?(_=function(){var e=v.substr(u).split(":"),t=e[1]?parseInt(e[1],10):0,i=h[e[0]]&&h[e[0]].iframe,o=getComputedStyle(i);return{iframe:i,id:e[0],height:t+n(o)+r(o),width:e[2],type:e[3]}}(),R=_.id,h[R]&&(h[R].loaded=!0),!function(){var e=_.type in{true:1,false:1,undefined:1};return e&&b(R,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return h[e]||(t=!1,O(_.type+" No settings for "+e+". Message was: "+v)),t}(R)&&(b(R,"Received: "+v),function(){var e=!0;return null===_.iframe&&(O(R,"IFrame ("+_.id+") not found"),e=!1),e}()&&function(){var t=e.origin,n=h[R]&&h[R].checkOrigin;if(n&&""+t!=="null"&&!(n.constructor===Array?function(){var e=0,r=!1;for(b(R,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===t){r=!0;break}return r}():function(){var e=h[R]&&h[R].remoteHost;return b(R,"Checking connection is from: "+e),t===e}()))throw new Error("Unexpected message received from: "+t+" for "+_.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(h[R]&&h[R].firstRun&&h[R]&&(h[R].firstRun=!1),_.type){case"close":k(_.iframe);break;case"message":e=o(6),b(R,"onMessage passed: {iframe: "+_.iframe.id+", message: "+e+"}"),E("onMessage",{iframe:_.iframe,message:JSON.parse(e)}),b(R,"--");break;case"mouseenter":y("onMouseEnter");break;case"mouseleave":y("onMouseLeave");break;case"autoResize":h[R].autoResize=JSON.parse(o(9));break;case"scrollTo":p(!1);break;case"scrollToOffset":p(!0);break;case"pageInfo":f(h[R]&&h[R].iframe,R),function(){function e(e,r){function i(){h[n]?f(h[n].iframe,n):t()}["scroll","resize"].forEach((function(t){b(n,e+t+" listener for sendPageInfo"),r(window,t,i)}))}function t(){e("Remove ",m)}var n=R;e("Add ",w),h[n]&&(h[n].stopPageInfo=t)}();break;case"pageInfoStop":h[R]&&h[R].stopPageInfo&&(h[R].stopPageInfo(),delete h[R].stopPageInfo);break;case"inPageLink":!function(e){var t=e.split("#")[1]||"",n=decodeURIComponent(t),r=document.getElementById(n)||document.getElementsByName(n)[0];r?function(){var e=l(r);b(R,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),c={x:e.x,y:e.y},d(),b(R,"--")}():window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(t):b(R,"In page link #"+t+" not found and window.parentIFrame not found"):b(R,"In page link #"+t+" not found")}(o(9));break;case"reset":N(_);break;case"init":t(),E("onInit",_.iframe);break;default:t()}var e}())):S(R,"Ignored: "+v)}function I(e,t,n){var r=null,i=null;if(h[e]){if("function"!==typeof(r=h[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");i=r(n)}return i}function T(e){var t=e.id;delete h[t]}function k(e){var t=e.id;if(!1!==I(t,"onClose",t)){b(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(n){O(n)}I(t,"onClosed",t),b(t,"--"),T(e)}else b(t,"Close iframe cancelled by onClose event")}function A(e){null===c&&b(e,"Get page position: "+(c={x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}).x+","+c.y)}function P(e){null!==c&&(window.scrollTo(c.x,c.y),b(e,"Set page position: "+c.x+","+c.y),C())}function C(){c=null}function N(e){b(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),A(e.id),U((function(){x(e),j("reset","reset",e.iframe,e.id)}),e,"reset")}function x(e){function t(t){o||"0"!==e[t]||(o=!0,b(r,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===(h[e]&&h[e].iframe.style[t])}function n(e){return null!==e.offsetParent}h[e]&&n(h[e].iframe)&&(t("height")||t("width"))&&j("Visibility change","resize",h[e].iframe,e)}Object.keys(h).forEach((function(t){e(t)}))}function t(t){b("window","Mutation observed: "+t[0].target+" "+t[0].type),L(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new r(t).observe(e,n)}var r=y();r&&n()}())}function n(n){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",b(e.id,"IFrame ("+r+") "+t+" set to "+e[t]+"px")):b("undefined","messageData id not set")}(n),t(n)}var r=e.iframe.id;h[r]&&(h[r].sizeHeight&&n("height"),h[r].sizeWidth&&n("width"))}function U(e,t,n){n!==t.type&&f&&!window.jasmine?(b(t.id,"Requesting animation frame"),f(e)):e()}function j(e,t,n,r,i){var o=!1;r=r||n.id,h[r]&&(n&&"contentWindow"in n&&null!==n.contentWindow?function(){var i=h[r]&&h[r].targetOrigin;b(r,"["+e+"] Sending msg to iframe["+r+"] ("+t+") targetOrigin: "+i),n.contentWindow.postMessage(a+t,i)}():O(r,"["+e+"] IFrame("+r+") not found"),i&&h[r]&&h[r].warningTimeout&&(h[r].msgTimeout=setTimeout((function(){!h[r]||h[r].loaded||o||(o=!0,O(r,"IFrame has not responded within "+h[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),h[r].warningTimeout)))}function B(e){return e+":"+h[e].bodyMarginV1+":"+h[e].sizeWidth+":"+h[e].log+":"+h[e].interval+":"+h[e].enablePublicMethods+":"+h[e].autoResize+":"+h[e].bodyMargin+":"+h[e].heightCalculationMethod+":"+h[e].bodyBackground+":"+h[e].bodyPadding+":"+h[e].tolerance+":"+h[e].inPageLinks+":"+h[e].resizeFrom+":"+h[e].widthCalculationMethod}function M(e,n){function o(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],O(s,"Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var s=function(t){return""===t&&(e.id=t=function(){var e=n&&n.id||d.id+r++;return null!==document.getElementById(e)&&(e+=r++),e}(),i=(n||{}).log,b(t,"Added missing iframe ID: "+t+" ("+e.src+")")),t}(e.id);s in h&&"iFrameResizer"in e?O(s,"Ignored iFrame, already setup."):(function(t){var n;t=t||{},h[s]={firstRun:!0,iframe:e,remoteHost:e.src&&e.src.split("/").slice(0,3).join("/")},function(e){if("object"!==typeof e)throw new TypeError("Options is not an object")}(t),Object.keys(t).forEach(o,t),function(e){for(var t in d)Object.prototype.hasOwnProperty.call(d,t)&&(h[s][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:d[t])}(t),h[s]&&(h[s].targetOrigin=!0===h[s].checkOrigin?""===(n=h[s].remoteHost)||null!==n.match(/^(about:blank|javascript:|file:\/\/)/)?"*":n:"*")}(n),function(){switch(b(s,"IFrame scrolling "+(h[s]&&h[s].scrolling?"enabled":"disabled")+" for "+s),e.style.overflow=!1===(h[s]&&h[s].scrolling)?"hidden":"auto",h[s]&&h[s].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=h[s]?h[s].scrolling:"no"}}(),function(){function t(t){1/0!==h[s][t]&&0!==h[s][t]&&(e.style[t]=h[s][t]+"px",b(s,"Set "+t+" = "+h[s][t]+"px"))}function n(e){if(h[s]["min"+e]>h[s]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!==typeof(h[s]&&h[s].bodyMargin)&&"0"!==(h[s]&&h[s].bodyMargin)||(h[s].bodyMarginV1=h[s].bodyMargin,h[s].bodyMargin=h[s].bodyMargin+"px"),function(n){var r=y();r&&function(t){e.parentNode&&new t((function(t){t.forEach((function(t){Array.prototype.slice.call(t.removedNodes).forEach((function(t){t===e&&k(e)}))}))})).observe(e.parentNode,{childList:!0})}(r),w(e,"load",(function(){j("iFrame.onload",n,e,t,!0),function(){var t=h[s]&&h[s].firstRun,n=h[s]&&h[s].heightCalculationMethod in l;!t&&n&&N({iframe:e,height:0,width:0,type:"init"})}()})),j("init",n,e,t,!0)}(B(s)),h[s]&&(h[s].iframe.iFrameResizer={close:k.bind(null,h[s].iframe),removeListeners:T.bind(null,h[s].iframe),resize:j.bind(null,"Window resize","resize",h[s].iframe),moveToAnchor:function(e){j("Move to anchor","moveToAnchor:"+e,h[s].iframe,s)},sendMessage:function(e){j("Send Message","message:"+(e=JSON.stringify(e)),h[s].iframe,s)}}))}function L(e,t){null===p&&(p=setTimeout((function(){p=null,e()}),t))}function G(){"hidden"!==document.visibilityState&&(b("document","Trigger event: Visiblity change"),L((function(){D("Tab Visable","resize")}),16))}function D(e,t){Object.keys(h).forEach((function(n){(function(e){return h[e]&&"parent"===h[e].resizeFrom&&h[e].autoResize&&!h[e].firstRun})(n)&&j(e,t,h[n].iframe,n)}))}function F(){w(window,"message",R),w(window,"resize",(function(){var e;b("window","Trigger event: "+(e="resize")),L((function(){D("Window "+e,"resize")}),16)})),w(document,"visibilitychange",G),w(document,"-webkit-visibilitychange",G)}function W(){function e(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),M(t,e),n.push(t))}var n;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!f;e+=1)f=window[t[e]+"RequestAnimationFrame"];f?f=f.bind(window):b("setup","RequestAnimationFrame not supported")}(),F(),function(r,i){switch(n=[],function(e){e&&e.enablePublicMethods&&O("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(r),typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(t,r));break;case"object":e(r,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return n}}}()}(u={exports:{}},u.exports),u.exports),f=function(){},l=f,h=function(e){var t=e.title,n=e.forwardRef,r=a(e,["title","forwardRef"]),i=function(e){return e.autoResize,e.bodyBackground,e.bodyMargin,e.bodyPadding,e.checkOrigin,e.inPageLinks,e.heightCalculationMethod,e.interval,e.log,e.maxHeight,e.maxWidth,e.minHeight,e.minWidth,e.resizeFrom,e.scrolling,e.sizeHeight,e.sizeWidth,e.warningTimeout,e.tolerance,e.widthCalculationMethod,e.onClosed,e.onInit,e.onMessage,e.onMouseEnter,e.onMouseLeave,e.onResized,a(e,["autoResize","bodyBackground","bodyMargin","bodyPadding","checkOrigin","inPageLinks","heightCalculationMethod","interval","log","maxHeight","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClosed","onInit","onMessage","onMouseEnter","onMouseLeave","onResized"])}(r),u=(0,o.useRef)(null),f=function(){return l(!u.current,"[iframeSizerReact]["+(u&&u.current&&u.current.id)+"] Close event ignored, to remove the iframe update your React component"),!u.current};return(0,o.useEffect)((function(){var e=u.current;return c(s({},r,{onClose:f}),e),function(){return e.iFrameResizer&&e.iFrameResizer.removeListeners()}}),[]),(0,o.useImperativeHandle)(n,(function(){return{resize:function(){return u.current.iFrameResizer.resize()},moveToAnchor:function(e){return u.current.iFrameResizer.moveToAnchor(e)},sendMessage:function(e,t){u.current.iFrameResizer.sendMessage(e,t)}}})),o.createElement("iframe",s({title:t},i,{ref:u}))};h.defaultProps={title:"iframe"},h.propTypes={title:i().string},t.default=h},28044:function(e,t,n){"use strict";n.r(t),n.d(t,{F:function(){return r},T:function(){return i},__:function(){return o},add:function(){return c},addIndex:function(){return d},adjust:function(){return y},all:function(){return O},allPass:function(){return X},always:function(){return ee},and:function(){return te},andThen:function(){return $i},any:function(){return re},anyPass:function(){return ie},ap:function(){return oe},aperture:function(){return ue},append:function(){return ce},apply:function(){return fe},applySpec:function(){return pe},applyTo:function(){return de},ascend:function(){return ge},assoc:function(){return ye},assocPath:function(){return me},binary:function(){return ve},bind:function(){return P},both:function(){return _e},call:function(){return Ie},chain:function(){return Ae},clamp:function(){return Pe},clone:function(){return Ue},comparator:function(){return je},complement:function(){return Me},compose:function(){return Ke},composeK:function(){return Ve},composeP:function(){return He},composeWith:function(){return Xe},concat:function(){return Et},cond:function(){return vt},construct:function(){return St},constructN:function(){return bt},contains:function(){return Ot},converge:function(){return _t},countBy:function(){return Tt},curry:function(){return Re},curryN:function(){return p},dec:function(){return kt},defaultTo:function(){return At},descend:function(){return Pt},difference:function(){return xt},differenceWith:function(){return Ut},dissoc:function(){return jt},dissocPath:function(){return Lt},divide:function(){return Gt},drop:function(){return Ft},dropLast:function(){return $t},dropLastWhile:function(){return Yt},dropRepeats:function(){return en},dropRepeatsWith:function(){return Xt},dropWhile:function(){return nn},either:function(){return on},empty:function(){return sn},endsWith:function(){return un},eqBy:function(){return cn},eqProps:function(){return fn},equals:function(){return ot},evolve:function(){return ln},filter:function(){return gt},find:function(){return pn},findIndex:function(){return gn},findLast:function(){return wn},findLastIndex:function(){return En},flatten:function(){return vn},flip:function(){return bn},forEach:function(){return Sn},forEachObjIndexed:function(){return On},fromPairs:function(){return _n},groupBy:function(){return Rn},groupWith:function(){return In},gt:function(){return Tn},gte:function(){return kn},has:function(){return Pn},hasIn:function(){return Cn},hasPath:function(){return An},head:function(){return Ye},identical:function(){return Nn},identity:function(){return Ze},ifElse:function(){return xn},inc:function(){return Un},includes:function(){return jn},indexBy:function(){return Bn},indexOf:function(){return Mn},init:function(){return Ln},innerJoin:function(){return Gn},insert:function(){return Dn},insertAll:function(){return Fn},intersection:function(){return Kn},intersperse:function(){return Vn},into:function(){return Zn},invert:function(){return Jn},invertObj:function(){return Xn},invoker:function(){return er},is:function(){return tr},isEmpty:function(){return nr},isNil:function(){return we},join:function(){return rr},juxt:function(){return ir},keys:function(){return K},keysIn:function(){return or},last:function(){return Jt},lastIndexOf:function(){return sr},length:function(){return ur},lens:function(){return cr},lensIndex:function(){return fr},lensPath:function(){return lr},lensProp:function(){return hr},lift:function(){return Oe},liftN:function(){return Se},lt:function(){return pr},lte:function(){return dr},map:function(){return V},mapAccum:function(){return gr},mapAccumRight:function(){return yr},mapObjIndexed:function(){return wr},match:function(){return mr},mathMod:function(){return Er},max:function(){return _},maxBy:function(){return vr},mean:function(){return Sr},median:function(){return Or},memoizeWith:function(){return _r},merge:function(){return Rr},mergeAll:function(){return Ir},mergeDeepLeft:function(){return Ar},mergeDeepRight:function(){return Pr},mergeDeepWith:function(){return Cr},mergeDeepWithKey:function(){return kr},mergeLeft:function(){return Nr},mergeRight:function(){return xr},mergeWith:function(){return Ur},mergeWithKey:function(){return Tr},min:function(){return jr},minBy:function(){return Br},modulo:function(){return Mr},move:function(){return Lr},multiply:function(){return Gr},nAry:function(){return Ee},negate:function(){return Dr},none:function(){return Fr},not:function(){return Be},nth:function(){return q},nthArg:function(){return Wr},o:function(){return zr},objOf:function(){return qn},of:function(){return Vr},omit:function(){return $r},once:function(){return qr},or:function(){return rn},otherwise:function(){return Yr},over:function(){return Zr},pair:function(){return Jr},partial:function(){return ei},partialRight:function(){return ti},partition:function(){return ni},path:function(){return Y},pathEq:function(){return ri},pathOr:function(){return ii},pathSatisfies:function(){return oi},paths:function(){return H},pick:function(){return si},pickAll:function(){return ai},pickBy:function(){return ui},pipe:function(){return We},pipeK:function(){return ci},pipeP:function(){return qe},pipeWith:function(){return Je},pluck:function(){return Z},prepend:function(){return fi},product:function(){return li},project:function(){return pi},prop:function(){return Q},propEq:function(){return di},propIs:function(){return gi},propOr:function(){return yi},propSatisfies:function(){return wi},props:function(){return mi},range:function(){return Ei},reduce:function(){return J},reduceBy:function(){return It},reduceRight:function(){return vi},reduceWhile:function(){return bi},reduced:function(){return Si},reject:function(){return yt},remove:function(){return Bt},repeat:function(){return _i},replace:function(){return Ri},reverse:function(){return ze},scan:function(){return Ii},sequence:function(){return Ti},set:function(){return ki},slice:function(){return De},sort:function(){return Ai},sortBy:function(){return Pi},sortWith:function(){return Ci},split:function(){return Ni},splitAt:function(){return xi},splitEvery:function(){return Ui},splitWhen:function(){return ji},startsWith:function(){return Bi},subtract:function(){return Mi},sum:function(){return br},symmetricDifference:function(){return Li},symmetricDifferenceWith:function(){return Gi},tail:function(){return Fe},take:function(){return zt},takeLast:function(){return an},takeLastWhile:function(){return Di},takeWhile:function(){return Wi},tap:function(){return Ki},test:function(){return Vi},thunkify:function(){return Io},times:function(){return Oi},toLower:function(){return qi},toPairs:function(){return Hi},toPairsIn:function(){return Yi},toString:function(){return mt},toUpper:function(){return Qi},transduce:function(){return Zi},transpose:function(){return Ji},traverse:function(){return Xi},trim:function(){return to},tryCatch:function(){return no},type:function(){return Ne},unapply:function(){return ro},unary:function(){return io},uncurryN:function(){return oo},unfold:function(){return so},union:function(){return ao},unionWith:function(){return co},uniq:function(){return zn},uniqBy:function(){return Wn},uniqWith:function(){return uo},unless:function(){return fo},unnest:function(){return lo},until:function(){return ho},update:function(){return Mt},useWith:function(){return hi},values:function(){return le},valuesIn:function(){return po},view:function(){return yo},when:function(){return wo},where:function(){return mo},whereEq:function(){return Eo},without:function(){return vo},xor:function(){return bo},xprod:function(){return So},zip:function(){return Oo},zipObj:function(){return _o},zipWith:function(){return Ro}});var r=function(){return!1},i=function(){return!0},o={"@@functional/placeholder":!0};function s(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}function a(e){return function t(n){return 0===arguments.length||s(n)?t:e.apply(this,arguments)}}function u(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return s(n)?t:a((function(t){return e(n,t)}));default:return s(n)&&s(r)?t:s(n)?a((function(t){return e(t,r)})):s(r)?a((function(t){return e(n,t)})):e(n,r)}}}var c=u((function(e,t){return Number(e)+Number(t)}));function f(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}function l(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,s){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,s,a){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,s,a,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,s,a,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,s,a,u,c,f){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function h(e,t,n){return function(){for(var r=[],i=0,o=e,a=0;a<t.length||i<arguments.length;){var u;a<t.length&&(!s(t[a])||i>=arguments.length)?u=t[a]:(u=arguments[i],i+=1),r[a]=u,s(u)||(o-=1),a+=1}return o<=0?n.apply(this,r):l(o,h(e,r,n))}}var p=u((function(e,t){return 1===e?a(t):l(e,h(e,[],t))})),d=a((function(e){return p(e.length,(function(){var t=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=n.apply(this,f(arguments,[t,r]));return t+=1,e},e.apply(this,i)}))}));function g(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return s(n)?t:u((function(t,r){return e(n,t,r)}));case 2:return s(n)&&s(r)?t:s(n)?u((function(t,n){return e(t,r,n)})):s(r)?u((function(t,r){return e(n,t,r)})):a((function(t){return e(n,r,t)}));default:return s(n)&&s(r)&&s(i)?t:s(n)&&s(r)?u((function(t,n){return e(t,n,i)})):s(n)&&s(i)?u((function(t,n){return e(t,r,n)})):s(r)&&s(i)?u((function(t,r){return e(n,t,r)})):s(n)?a((function(t){return e(t,r,i)})):s(r)?a((function(t){return e(n,t,i)})):s(i)?a((function(t){return e(n,r,t)})):e(n,r,i)}}}var y=g((function(e,t,n){if(e>=n.length||e<-n.length)return n;var r=(e<0?n.length:0)+e,i=f(n);return i[r]=t(n[r]),i})),w=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function m(e){return null!=e&&"function"===typeof e["@@transducer/step"]}function E(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!w(i)){for(var o=0;o<e.length;){if("function"===typeof i[e[o]])return i[e[o]].apply(i,r);o+=1}if(m(i)){var s=t.apply(null,r);return s(i)}}return n.apply(this,arguments)}}function v(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var b={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},S=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=v(this.xf["@@transducer/step"](e,!1))),e},e}(),O=u(E(["all"],u((function(e,t){return new S(e,t)})),(function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0}))),_=u((function(e,t){return t>e?t:e}));function R(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}function I(e){return"[object String]"===Object.prototype.toString.call(e)}var T=a((function(e){return!!w(e)||!!e&&("object"===typeof e&&(!I(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),k=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function A(e){return new k(e)}var P=u((function(e,t){return l(e.length,(function(){return e.apply(t,arguments)}))}));function C(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function N(e,t,n,r){return e["@@transducer/result"](n[r](P(e["@@transducer/step"],e),t))}var x="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function U(e,t,n){if("function"===typeof e&&(e=A(e)),T(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"===typeof n["fantasy-land/reduce"])return N(e,t,n,"fantasy-land/reduce");if(null!=n[x])return C(e,t,n[x]());if("function"===typeof n.next)return C(e,t,n);if("function"===typeof n.reduce)return N(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var j=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),B=u((function(e,t){return new j(e,t)}));function M(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var L=Object.prototype.toString,G=function(){return"[object Arguments]"===L.call(arguments)?function(e){return"[object Arguments]"===L.call(e)}:function(e){return M("callee",e)}}(),D=!{toString:null}.propertyIsEnumerable("toString"),F=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],W=function(){return arguments.propertyIsEnumerable("length")}(),z=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},K="function"!==typeof Object.keys||W?a((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=W&&G(e);for(t in e)!M(t,e)||i&&"length"===t||(r[r.length]=t);if(D)for(n=F.length-1;n>=0;)M(t=F[n],e)&&!z(r,t)&&(r[r.length]=t),n-=1;return r})):a((function(e){return Object(e)!==e?[]:Object.keys(e)})),V=u(E(["fantasy-land/map","map"],B,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return p(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return U((function(n,r){return n[r]=e(t[r]),n}),{},K(t));default:return R(e,t)}}))),$=Number.isInteger||function(e){return e<<0===e},q=u((function(e,t){var n=e<0?t.length+e:e;return I(t)?t.charAt(n):t[n]})),H=u((function(e,t){return e.map((function(e){for(var n,r=t,i=0;i<e.length;){if(null==r)return;n=e[i],r=$(n)?q(n,r):r[n],i+=1}return r}))})),Y=u((function(e,t){return H([e],t)[0]})),Q=u((function(e,t){return Y([e],t)})),Z=u((function(e,t){return V(Q(e),t)})),J=g(U),X=a((function(e){return p(J(_,0,Z("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))})),ee=a((function(e){return function(){return e}})),te=u((function(e,t){return e&&t})),ne=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=v(this.xf["@@transducer/step"](e,!0))),e},e}(),re=u(E(["any"],u((function(e,t){return new ne(e,t)})),(function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1}))),ie=a((function(e){return p(J(_,0,Z("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))})),oe=u((function(e,t){return"function"===typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"===typeof e.ap?e.ap(t):"function"===typeof e?function(n){return e(n)(t(n))}:U((function(e,n){return f(e,V(n,t))}),[],e)}));function se(e,t){for(var n=0,r=t.length-(e-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(t,n,n+e),n+=1;return i}var ae=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return f(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}(),ue=u(E([],u((function(e,t){return new ae(e,t)})),se)),ce=u((function(e,t){return f(t,[e])})),fe=u((function(e,t){return e.apply(this,t)})),le=a((function(e){for(var t=K(e),n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r}));function he(e,t){return K(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}var pe=a((function e(t){return t=he((function(t){return"function"==typeof t?t:e(t)}),t),p(J(_,0,Z("length",le(t))),(function(){var e=arguments;return he((function(t){return fe(t,e)}),t)}))})),de=u((function(e,t){return t(e)})),ge=g((function(e,t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0})),ye=g((function(e,t,n){var r={};for(var i in n)r[i]=n[i];return r[e]=t,r})),we=a((function(e){return null==e})),me=g((function e(t,n,r){if(0===t.length)return n;var i=t[0];if(t.length>1){var o=!we(r)&&M(i,r)?r[i]:$(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,o)}if($(i)&&w(r)){var s=[].concat(r);return s[i]=n,s}return ye(i,n,r)})),Ee=u((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,s){return t.call(this,e,n,r,i,o,s)};case 7:return function(e,n,r,i,o,s,a){return t.call(this,e,n,r,i,o,s,a)};case 8:return function(e,n,r,i,o,s,a,u){return t.call(this,e,n,r,i,o,s,a,u)};case 9:return function(e,n,r,i,o,s,a,u,c){return t.call(this,e,n,r,i,o,s,a,u,c)};case 10:return function(e,n,r,i,o,s,a,u,c,f){return t.call(this,e,n,r,i,o,s,a,u,c,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),ve=a((function(e){return Ee(2,e)}));function be(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var Se=u((function(e,t){var n=p(e,t);return p(e,(function(){return U(oe,V(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Oe=a((function(e){return Se(e.length,e)})),_e=u((function(e,t){return be(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:Oe(te)(e,t)})),Re=a((function(e){return p(e.length,e)})),Ie=Re((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))}));function Te(e){return function t(n){for(var r,i,o,s=[],a=0,u=n.length;a<u;){if(T(n[a]))for(o=0,i=(r=e?t(n[a]):n[a]).length;o<i;)s[s.length]=r[o],o+=1;else s[s.length]=n[a];a+=1}return s}}var ke=function(e){var t=function(e){return{"@@transducer/init":b.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(e);return{"@@transducer/init":b.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){return T(n)?U(t,e,n):U(t,e,[n])}}},Ae=u(E(["fantasy-land/chain","chain"],u((function(e,t){return V(e,ke(t))})),(function(e,t){return"function"===typeof t?function(n){return e(t(n))(n)}:Te(!1)(V(e,t))}))),Pe=g((function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n}));function Ce(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var Ne=a((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function xe(e,t,n,r){var i=function(i){for(var o=t.length,s=0;s<o;){if(e===t[s])return n[s];s+=1}for(var a in t[s+1]=e,n[s+1]=i,e)i[a]=r?xe(e[a],t,n,!0):e[a];return i};switch(Ne(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return Ce(e);default:return e}}var Ue=a((function(e){return null!=e&&"function"===typeof e.clone?e.clone():xe(e,[],[],!0)})),je=a((function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}})),Be=a((function(e){return!e})),Me=Oe(Be);function Le(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Ge(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return w(r)||"function"!==typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var De=g(Ge("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),Fe=a(Ge("tail",De(1,1/0)));function We(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return l(arguments[0].length,J(Le,arguments[0],Fe(arguments)))}var ze=a((function(e){return I(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function Ke(){if(0===arguments.length)throw new Error("compose requires at least one argument");return We.apply(this,ze(arguments))}function Ve(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return Ke(Ke.apply(this,V(Ae,e)),t)}function $e(e,t){return function(){var n=this;return e.apply(n,arguments).then((function(e){return t.call(n,e)}))}}function qe(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return l(arguments[0].length,J($e,arguments[0],Fe(arguments)))}function He(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return qe.apply(this,ze(arguments))}var Ye=q(0);function Qe(e){return e}var Ze=a(Qe),Je=u((function(e,t){if(t.length<=0)return Ze;var n=Ye(t),r=Fe(t);return l(n.length,(function(){return U((function(t,n){return e.call(this,n,t)}),n.apply(this,arguments),r)}))})),Xe=u((function(e,t){return Je.apply(this,[e,ze(t)])}));function et(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function tt(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var nt="function"===typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t};function rt(e,t,n,r){var i=et(e);function o(e,t){return it(e,t,n.slice(),r.slice())}return!tt((function(e,t){return!tt(o,t,e)}),et(t),i)}function it(e,t,n,r){if(nt(e,t))return!0;var i=Ne(e);if(i!==Ne(t))return!1;if(null==e||null==t)return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!nt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!nt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&rt(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&rt(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=K(e);if(s.length!==K(t).length)return!1;var a=n.concat([e]),u=r.concat([t]);for(o=s.length-1;o>=0;){var c=s[o];if(!M(c,t)||!it(t[c],e[c],a,u))return!1;o-=1}return!0}var ot=u((function(e,t){return it(e,t,[],[])}));function st(e,t,n){var r,i;if("function"===typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!==t){for(;n<e.length;){if("number"===typeof(i=e[n])&&i!==i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(ot(e[n],t))return n;n+=1}return-1}function at(e,t){return st(t,e,0)>=0}function ut(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ct=function(e){return(e<10?"0":"")+e},ft="function"===typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+ct(e.getUTCMonth()+1)+"-"+ct(e.getUTCDate())+"T"+ct(e.getUTCHours())+":"+ct(e.getUTCMinutes())+":"+ct(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function lt(e){return function(){return!e.apply(this,arguments)}}function ht(e,t){for(var n=0,r=t.length,i=[];n<r;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i}function pt(e){return"[object Object]"===Object.prototype.toString.call(e)}var dt=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),gt=u(E(["filter"],u((function(e,t){return new dt(e,t)})),(function(e,t){return pt(t)?U((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},K(t)):ht(e,t)}))),yt=u((function(e,t){return gt(lt(e),t)}));function wt(e,t){var n=function(n){var r=t.concat([e]);return at(n,r)?"<Circular>":wt(n,r)},r=function(e,t){return R((function(t){return ut(t)+": "+n(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+R(n,e).join(", ")+"))";case"[object Array]":return"["+R(n,e).concat(r(e,yt((function(e){return/^\d+$/.test(e)}),K(e)))).join(", ")+"]";case"[object Boolean]":return"object"===typeof e?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):ut(ft(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"===typeof e?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return"object"===typeof e?"new String("+n(e.valueOf())+")":ut(e);case"[object Undefined]":return"undefined";default:if("function"===typeof e.toString){var i=e.toString();if("[object Object]"!==i)return i}return"{"+r(e,K(e)).join(", ")+"}"}}var mt=a((function(e){return wt(e,[])})),Et=u((function(e,t){if(w(e)){if(w(t))return e.concat(t);throw new TypeError(mt(t)+" is not an array")}if(I(e)){if(I(t))return e+t;throw new TypeError(mt(t)+" is not a string")}if(null!=e&&be(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&be(e.concat))return e.concat(t);throw new TypeError(mt(e)+' does not have a method named "concat" or "fantasy-land/concat"')})),vt=a((function(e){return l(J(_,0,V((function(e){return e[0].length}),e)),(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),bt=u((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:Re(Ee(e,(function(e,n,r,i,o,s,a,u,c,f){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,n);case 3:return new t(e,n,r);case 4:return new t(e,n,r,i);case 5:return new t(e,n,r,i,o);case 6:return new t(e,n,r,i,o,s);case 7:return new t(e,n,r,i,o,s,a);case 8:return new t(e,n,r,i,o,s,a,u);case 9:return new t(e,n,r,i,o,s,a,u,c);case 10:return new t(e,n,r,i,o,s,a,u,c,f)}})))})),St=a((function(e){return bt(e.length,e)})),Ot=u(at),_t=u((function(e,t){return p(J(_,0,Z("length",t)),(function(){var n=arguments,r=this;return e.apply(r,R((function(e){return e.apply(r,n)}),t))}))})),Rt=function(){function e(e,t,n,r){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=r,this.inputs={}}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(M(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},e}(),It=h(4,[],E([],h(4,[],(function(e,t,n,r){return new Rt(e,t,n,r)})),(function(e,t,n,r){return U((function(r,i){var o=n(i);return r[o]=e(M(o,r)?r[o]:xe(t,[],[],!1),i),r}),{},r)}))),Tt=It((function(e,t){return e+1}),0),kt=c(-1),At=u((function(e,t){return null==t||t!==t?e:t})),Pt=g((function(e,t,n){var r=e(t),i=e(n);return r>i?-1:r<i?1:0}));function Ct(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e===-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!at(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!at(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var Nt=function(){function e(){this._nativeSet="function"===typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Ct(e,!0,this)},e.prototype.has=function(e){return Ct(e,!1,this)},e}(),xt=u((function(e,t){for(var n=[],r=0,i=e.length,o=t.length,s=new Nt,a=0;a<o;a+=1)s.add(t[a]);for(;r<i;)s.add(e[r])&&(n[n.length]=e[r]),r+=1;return n})),Ut=g((function(e,t,n){for(var r=[],i=0,o=t.length;i<o;)tt(e,t[i],n)||tt(e,t[i],r)||r.push(t[i]),i+=1;return r})),jt=u((function(e,t){var n={};for(var r in t)n[r]=t[r];return delete n[e],n})),Bt=g((function(e,t,n){var r=Array.prototype.slice.call(n,0);return r.splice(e,t),r})),Mt=g((function(e,t,n){return y(e,ee(t),n)})),Lt=u((function e(t,n){switch(t.length){case 0:return n;case 1:return $(t[0])&&w(n)?Bt(t[0],1,n):jt(t[0],n);default:var r=t[0],i=Array.prototype.slice.call(t,1);return null==n[r]?n:$(r)&&w(n)?Mt(r,e(i,n[r]),n):ye(r,e(i,n[r]),n)}})),Gt=u((function(e,t){return e/t})),Dt=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}(),Ft=u(E(["drop"],u((function(e,t){return new Dt(e,t)})),(function(e,t){return De(Math.max(0,e),1/0,t)}))),Wt=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?v(n):n},e}(),zt=u(E(["take"],u((function(e,t){return new Wt(e,t)})),(function(e,t){return De(0,e<0?1/0:e,t)})));function Kt(e,t){return zt(e<t.length?t.length-e:0,t)}var Vt=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),$t=u(E([],u((function(e,t){return new Vt(e,t)})),Kt));function qt(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return De(0,n+1,t)}var Ht=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=U(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}(),Yt=u(E([],u((function(e,t){return new Ht(e,t)})),qt)),Qt=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},e}(),Zt=u((function(e,t){return new Qt(e,t)})),Jt=q(-1),Xt=u(E([],Zt,(function(e,t){var n=[],r=1,i=t.length;if(0!==i)for(n[0]=t[0];r<i;)e(Jt(n),t[r])||(n[n.length]=t[r]),r+=1;return n}))),en=a(E([],Zt(ot),Xt(ot))),tn=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}(),nn=u(E(["dropWhile"],u((function(e,t){return new tn(e,t)})),(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return De(n,1/0,t)}))),rn=u((function(e,t){return e||t})),on=u((function(e,t){return be(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:Oe(rn)(e,t)})),sn=a((function(e){return null!=e&&"function"===typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"===typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"===typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"===typeof e.constructor.empty?e.constructor.empty():w(e)?[]:I(e)?"":pt(e)?{}:G(e)?function(){return arguments}():void 0})),an=u((function(e,t){return Ft(e>=0?t.length-e:0,t)})),un=u((function(e,t){return ot(an(e.length,t),e)})),cn=g((function(e,t,n){return ot(e(t),e(n))})),fn=g((function(e,t,n){return ot(t[e],n[e])})),ln=u((function e(t,n){var r,i,o,s=n instanceof Array?[]:{};for(i in n)o=typeof(r=t[i]),s[i]="function"===o?r(n[i]):r&&"object"===o?e(r,n[i]):n[i];return s})),hn=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=v(this.xf["@@transducer/step"](e,t))),e},e}(),pn=u(E(["find"],u((function(e,t){return new hn(e,t)})),(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return t[n];n+=1}}))),dn=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=v(this.xf["@@transducer/step"](e,this.idx))),e},e}(),gn=u(E([],u((function(e,t){return new dn(e,t)})),(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return n;n+=1}return-1}))),yn=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}(),wn=u(E([],u((function(e,t){return new yn(e,t)})),(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}}))),mn=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}(),En=u(E([],u((function(e,t){return new mn(e,t)})),(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1}))),vn=a(Te(!0)),bn=a((function(e){return p(e.length,(function(t,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=t,e.apply(this,r)}))})),Sn=u(Ge("forEach",(function(e,t){for(var n=t.length,r=0;r<n;)e(t[r]),r+=1;return t}))),On=u((function(e,t){for(var n=K(t),r=0;r<n.length;){var i=n[r];e(t[i],i,t),r+=1}return t})),_n=a((function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t})),Rn=u(Ge("groupBy",It((function(e,t){return null==e&&(e=[]),e.push(t),e}),null))),In=u((function(e,t){for(var n=[],r=0,i=t.length;r<i;){for(var o=r+1;o<i&&e(t[o-1],t[o]);)o+=1;n.push(t.slice(r,o)),r=o}return n})),Tn=u((function(e,t){return e>t})),kn=u((function(e,t){return e>=t})),An=u((function(e,t){if(0===e.length||we(t))return!1;for(var n=t,r=0;r<e.length;){if(we(n)||!M(e[r],n))return!1;n=n[e[r]],r+=1}return!0})),Pn=u((function(e,t){return An([e],t)})),Cn=u((function(e,t){return e in t})),Nn=u(nt),xn=g((function(e,t,n){return p(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),Un=c(1),jn=u(at),Bn=It((function(e,t){return t}),null),Mn=u((function(e,t){return"function"!==typeof t.indexOf||w(t)?st(t,e,0):t.indexOf(e)})),Ln=De(0,-1),Gn=g((function(e,t,n){return ht((function(t){return tt(e,t,n)}),t)})),Dn=g((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(e,0,t),r})),Fn=g((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))})),Wn=u((function(e,t){for(var n,r,i=new Nt,o=[],s=0;s<t.length;)n=e(r=t[s]),i.add(n)&&o.push(r),s+=1;return o})),zn=Wn(Ze),Kn=u((function(e,t){var n,r;return e.length>t.length?(n=e,r=t):(n=t,r=e),zn(ht(bn(at)(n),r))})),Vn=u(Ge("intersperse",(function(e,t){for(var n=[],r=0,i=t.length;r<i;)r===i-1?n.push(t[r]):n.push(t[r],e),r+=1;return n})));var $n="function"===typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)M(o,i)&&(t[o]=i[o]);n+=1}return t},qn=u((function(e,t){var n={};return n[e]=t,n})),Hn={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":Qe},Yn={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":Qe},Qn={"@@transducer/init":Object,"@@transducer/step":function(e,t){return $n(e,T(t)?qn(t[0],t[1]):t)},"@@transducer/result":Qe};var Zn=g((function(e,t,n){return m(e)?U(t(e),e["@@transducer/init"](),n):U(t(function(e){if(m(e))return e;if(T(e))return Hn;if("string"===typeof e)return Yn;if("object"===typeof e)return Qn;throw new Error("Cannot create transformer for "+e)}(e)),xe(e,[],[],!1),n)})),Jn=a((function(e){for(var t=K(e),n=t.length,r=0,i={};r<n;){var o=t[r],s=e[o],a=M(s,i)?i[s]:i[s]=[];a[a.length]=o,r+=1}return i})),Xn=a((function(e){for(var t=K(e),n=t.length,r=0,i={};r<n;){var o=t[r];i[e[o]]=o,r+=1}return i})),er=u((function(e,t){return p(e+1,(function(){var n=arguments[e];if(null!=n&&be(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(mt(n)+' does not have a method named "'+t+'"')}))})),tr=u((function(e,t){return null!=t&&t.constructor===e||t instanceof e})),nr=a((function(e){return null!=e&&ot(e,sn(e))})),rr=er(1,"join"),ir=a((function(e){return _t((function(){return Array.prototype.slice.call(arguments,0)}),e)})),or=a((function(e){var t,n=[];for(t in e)n[n.length]=t;return n})),sr=u((function(e,t){if("function"!==typeof t.lastIndexOf||w(t)){for(var n=t.length-1;n>=0;){if(ot(t[n],e))return n;n-=1}return-1}return t.lastIndexOf(e)}));function ar(e){return"[object Number]"===Object.prototype.toString.call(e)}var ur=a((function(e){return null!=e&&ar(e.length)?e.length:NaN})),cr=u((function(e,t){return function(n){return function(r){return V((function(e){return t(e,r)}),n(e(r)))}}})),fr=a((function(e){return cr(q(e),Mt(e))})),lr=a((function(e){return cr(Y(e),me(e))})),hr=a((function(e){return cr(Q(e),ye(e))})),pr=u((function(e,t){return e<t})),dr=u((function(e,t){return e<=t})),gr=g((function(e,t,n){for(var r=0,i=n.length,o=[],s=[t];r<i;)s=e(s[0],n[r]),o[r]=s[1],r+=1;return[s[0],o]})),yr=g((function(e,t,n){for(var r=n.length-1,i=[],o=[t];r>=0;)o=e(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]})),wr=u((function(e,t){return U((function(n,r){return n[r]=e(t[r],r,t),n}),{},K(t))})),mr=u((function(e,t){return t.match(e)||[]})),Er=u((function(e,t){return $(e)?!$(t)||t<1?NaN:(e%t+t)%t:NaN})),vr=g((function(e,t,n){return e(n)>e(t)?n:t})),br=J(c,0),Sr=a((function(e){return br(e)/e.length})),Or=a((function(e){var t=e.length;if(0===t)return NaN;var n=2-t%2,r=(t-n)/2;return Sr(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(r,r+n))})),_r=u((function(e,t){var n={};return l(t.length,(function(){var r=e.apply(this,arguments);return M(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))})),Rr=u((function(e,t){return $n({},e,t)})),Ir=a((function(e){return $n.apply(null,[{}].concat(e))})),Tr=g((function(e,t,n){var r,i={};for(r in t)M(r,t)&&(i[r]=M(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)M(r,n)&&!M(r,i)&&(i[r]=n[r]);return i})),kr=g((function e(t,n,r){return Tr((function(n,r,i){return pt(r)&&pt(i)?e(t,r,i):t(n,r,i)}),n,r)})),Ar=u((function(e,t){return kr((function(e,t,n){return t}),e,t)})),Pr=u((function(e,t){return kr((function(e,t,n){return n}),e,t)})),Cr=g((function(e,t,n){return kr((function(t,n,r){return e(n,r)}),t,n)})),Nr=u((function(e,t){return $n({},t,e)})),xr=u((function(e,t){return $n({},e,t)})),Ur=g((function(e,t,n){return Tr((function(t,n,r){return e(n,r)}),t,n)})),jr=u((function(e,t){return t<e?t:e})),Br=g((function(e,t,n){return e(n)<e(t)?n:t})),Mr=u((function(e,t){return e%t})),Lr=g((function(e,t,n){var r=n.length,i=n.slice(),o=e<0?r+e:e,s=t<0?r+t:t,a=i.splice(o,1);return o<0||o>=n.length||s<0||s>=n.length?n:[].concat(i.slice(0,s)).concat(a).concat(i.slice(s,n.length))})),Gr=u((function(e,t){return e*t})),Dr=a((function(e){return-e})),Fr=u((function(e,t){return O(lt(e),t)})),Wr=a((function(e){return p(e<0?1:e+1,(function(){return q(e,arguments)}))})),zr=g((function(e,t,n){return e(t(n))}));function Kr(e){return[e]}var Vr=a(Kr),$r=u((function(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var s in t)r.hasOwnProperty(s)||(n[s]=t[s]);return n})),qr=a((function(e){var t,n=!1;return l(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))}));function Hr(e,t){if(null==t||!be(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+wt(t,[]))}var Yr=u((function(e,t){return Hr("otherwise",t),t.then(null,e)})),Qr=function(e){return{value:e,map:function(t){return Qr(t(e))}}},Zr=g((function(e,t,n){return e((function(e){return Qr(t(e))}))(n).value})),Jr=u((function(e,t){return[e,t]}));function Xr(e){return u((function(t,n){return l(Math.max(0,t.length-n.length),(function(){return t.apply(this,e(n,arguments))}))}))}var ei=Xr(f),ti=Xr(bn(f)),ni=ir([gt,yt]),ri=g((function(e,t,n){return ot(Y(e,n),t)})),ii=g((function(e,t,n){return At(e,Y(t,n))})),oi=g((function(e,t,n){return e(Y(t,n))})),si=u((function(e,t){for(var n={},r=0;r<e.length;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n})),ai=u((function(e,t){for(var n={},r=0,i=e.length;r<i;){var o=e[r];n[o]=t[o],r+=1}return n})),ui=u((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n}));function ci(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return Ve.apply(this,ze(arguments))}var fi=u((function(e,t){return f([e],t)})),li=J(Gr,1),hi=u((function(e,t){return p(t.length,(function(){for(var n=[],r=0;r<t.length;)n.push(t[r].call(this,arguments[r])),r+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))}))})),pi=hi(R,[ai,Ze]),di=g((function(e,t,n){return ot(t,n[e])})),gi=g((function(e,t,n){return tr(e,n[t])})),yi=g((function(e,t,n){return ii(e,[t],n)})),wi=g((function(e,t,n){return e(n[t])})),mi=u((function(e,t){return e.map((function(e){return Y([e],t)}))})),Ei=u((function(e,t){if(!ar(e)||!ar(t))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=e;r<t;)n.push(r),r+=1;return n})),vi=g((function(e,t,n){for(var r=n.length-1;r>=0;)t=e(n[r],t),r-=1;return t})),bi=h(4,[],(function(e,t,n,r){return U((function(n,r){return e(n,r)?t(n,r):v(n)}),n,r)})),Si=a(v),Oi=u((function(e,t){var n,r=Number(t),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=e(i),i+=1;return n})),_i=u((function(e,t){return Oi(ee(e),t)})),Ri=g((function(e,t,n){return n.replace(e,t)})),Ii=g((function(e,t,n){for(var r=0,i=n.length,o=[t];r<i;)t=e(t,n[r]),o[r+1]=t,r+=1;return o})),Ti=u((function(e,t){return"function"===typeof t.sequence?t.sequence(e):vi((function(e,t){return oe(V(fi,e),t)}),e([]),t)})),ki=g((function(e,t,n){return Zr(e,ee(t),n)})),Ai=u((function(e,t){return Array.prototype.slice.call(t,0).sort(e)})),Pi=u((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}))})),Ci=u((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){for(var r=0,i=0;0===r&&i<e.length;)r=e[i](t,n),i+=1;return r}))})),Ni=er(1,"split"),xi=u((function(e,t){return[De(0,e,t),De(e,ur(t),t)]})),Ui=u((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<t.length;)n.push(De(r,r+=e,t));return n})),ji=u((function(e,t){for(var n=0,r=t.length,i=[];n<r&&!e(t[n]);)i.push(t[n]),n+=1;return[i,Array.prototype.slice.call(t,n)]})),Bi=u((function(e,t){return ot(zt(e.length,t),e)})),Mi=u((function(e,t){return Number(e)-Number(t)})),Li=u((function(e,t){return Et(xt(e,t),xt(t,e))})),Gi=g((function(e,t,n){return Et(Ut(e,t,n),Ut(e,n,t))})),Di=u((function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return De(n+1,1/0,t)})),Fi=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):v(e)},e}(),Wi=u(E(["takeWhile"],u((function(e,t){return new Fi(e,t)})),(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return De(0,n,t)}))),zi=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=b.init,e.prototype["@@transducer/result"]=b.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),Ki=u(E([],u((function(e,t){return new zi(e,t)})),(function(e,t){return e(t),t})));var Vi=u((function(e,t){if(n=e,"[object RegExp]"!==Object.prototype.toString.call(n))throw new TypeError("\u2018test\u2019 requires a value of type RegExp as its first argument; received "+mt(e));var n;return Ce(e).test(t)})),$i=u((function(e,t){return Hr("andThen",t),t.then(e)})),qi=er(0,"toLowerCase"),Hi=a((function(e){var t=[];for(var n in e)M(n,e)&&(t[t.length]=[n,e[n]]);return t})),Yi=a((function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t})),Qi=er(0,"toUpperCase"),Zi=p(4,(function(e,t,n,r){return U(e("function"===typeof t?A(t):t),n,r)})),Ji=a((function(e){for(var t=0,n=[];t<e.length;){for(var r=e[t],i=0;i<r.length;)"undefined"===typeof n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;t+=1}return n})),Xi=g((function(e,t,n){return"function"===typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](t,e):Ti(e,V(t,n))})),eo="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",to=a("function"===typeof String.prototype.trim&&!eo.trim()&&"\u200b".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+eo+"]["+eo+"]*"),n=new RegExp("["+eo+"]["+eo+"]*$");return e.replace(t,"").replace(n,"")}),no=u((function(e,t){return l(e.length,(function(){try{return e.apply(this,arguments)}catch(n){return t.apply(this,f([n],arguments))}}))})),ro=a((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}})),io=a((function(e){return Ee(1,e)})),oo=u((function(e,t){return p(e,(function(){for(var n,r=1,i=t,o=0;r<=e&&"function"===typeof i;)n=r===e?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),so=u((function(e,t){for(var n=e(t),r=[];n&&n.length;)r[r.length]=n[0],n=e(n[1]);return r})),ao=u(Ke(zn,f)),uo=u((function(e,t){for(var n,r=0,i=t.length,o=[];r<i;)tt(e,n=t[r],o)||(o[o.length]=n),r+=1;return o})),co=g((function(e,t,n){return uo(e,f(t,n))})),fo=g((function(e,t,n){return e(n)?n:t(n)})),lo=Ae(Qe),ho=g((function(e,t,n){for(var r=n;!e(r);)r=t(r);return r})),po=a((function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n})),go=function(e){return{value:e,"fantasy-land/map":function(){return this}}},yo=u((function(e,t){return e(go)(t).value})),wo=g((function(e,t,n){return e(n)?t(n):n})),mo=u((function(e,t){for(var n in e)if(M(n,e)&&!e[n](t[n]))return!1;return!0})),Eo=u((function(e,t){return mo(V(ot,e),t)})),vo=u((function(e,t){return yt(bn(at)(e),t)})),bo=u((function(e,t){return Boolean(!e^!t)})),So=u((function(e,t){for(var n,r=0,i=e.length,o=t.length,s=[];r<i;){for(n=0;n<o;)s[s.length]=[e[r],t[n]],n+=1;r+=1}return s})),Oo=u((function(e,t){for(var n=[],r=0,i=Math.min(e.length,t.length);r<i;)n[r]=[e[r],t[r]],r+=1;return n})),_o=u((function(e,t){for(var n=0,r=Math.min(e.length,t.length),i={};n<r;)i[e[n]]=t[n],n+=1;return i})),Ro=g((function(e,t,n){for(var r=[],i=0,o=Math.min(t.length,n.length);i<o;)r[i]=e(t[i],n[i]),i+=1;return r})),Io=a((function(e){return p(e.length,(function(){var t=arguments;return function(){return e.apply(this,t)}}))}))},88665:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!a(c))return!1;var f=e[c],l=t[c];if(!1===(i=n?n.call(r,f,l,c):void 0)||void 0===i&&f!==l)return!1}return!0}},39829:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return De},StyleSheetConsumer:function(){return ie},StyleSheetContext:function(){return re},StyleSheetManager:function(){return fe},ThemeConsumer:function(){return Ne},ThemeContext:function(){return Ce},ThemeProvider:function(){return xe},__PRIVATE__:function(){return ze},createGlobalStyle:function(){return Le},css:function(){return ve},default:function(){return Ke},isStyledComponent:function(){return v},keyframes:function(){return Ge},useTheme:function(){return We},version:function(){return S},withTheme:function(){return Fe}});var r=n(48570),i=n(2784),o=n(88665),s=n.n(o);var a=function(e){function t(e,r,u,c,h){for(var p,d,g,y,v,S=0,O=0,_=0,R=0,I=0,N=0,U=g=p=0,B=0,M=0,L=0,G=0,D=u.length,F=D-1,W="",z="",K="",V="";B<D;){if(d=u.charCodeAt(B),B===F&&0!==O+R+_+S&&(0!==O&&(d=47===O?10:47),R=_=S=0,D++,F++),0===O+R+_+S){if(B===F&&(0<M&&(W=W.replace(l,"")),0<W.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:W+=u.charAt(B)}d=59}switch(d){case 123:for(p=(W=W.trim()).charCodeAt(0),g=1,G=++B;B<D;){switch(d=u.charCodeAt(B)){case 123:g++;break;case 125:g--;break;case 47:switch(d=u.charCodeAt(B+1)){case 42:case 47:e:{for(U=B+1;U<F;++U)switch(u.charCodeAt(U)){case 47:if(42===d&&42===u.charCodeAt(U-1)&&B+2!==U){B=U+1;break e}break;case 10:if(47===d){B=U+1;break e}}B=U}}break;case 91:d++;case 40:d++;case 34:case 39:for(;B++<F&&u.charCodeAt(B)!==d;);}if(0===g)break;B++}switch(g=u.substring(G,B),0===p&&(p=(W=W.replace(f,"").trim()).charCodeAt(0)),p){case 64:switch(0<M&&(W=W.replace(l,"")),d=W.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=C}if(G=(g=t(r,M,g,d,h+1)).length,0<x&&(v=a(3,g,M=n(C,W,L),r,k,T,G,d,h,c),W=M.join(""),void 0!==v&&0===(G=(g=v.trim()).length)&&(d=0,g="")),0<G)switch(d){case 115:W=W.replace(b,s);case 100:case 109:case 45:g=W+"{"+g+"}";break;case 107:g=(W=W.replace(w,"$1 $2"))+"{"+g+"}",g=1===P||2===P&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=W+g,112===c&&(z+=g,g="")}else g="";break;default:g=t(r,n(r,W,L),g,c,h+1)}K+=g,g=L=M=U=p=0,W="",d=u.charCodeAt(++B);break;case 125:case 59:if(1<(G=(W=(0<M?W.replace(l,""):W).trim()).length))switch(0===U&&(p=W.charCodeAt(0),45===p||96<p&&123>p)&&(G=(W=W.replace(" ",":")).length),0<x&&void 0!==(v=a(1,W,r,e,k,T,z.length,c,h,c))&&0===(G=(W=v.trim()).length)&&(W="\0\0"),p=W.charCodeAt(0),d=W.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){V+=W+u.charAt(B);break}default:58!==W.charCodeAt(G-1)&&(z+=i(W,p,d,W.charCodeAt(2)))}L=M=U=p=0,W="",d=u.charCodeAt(++B)}}switch(d){case 13:case 10:47===O?O=0:0===1+p&&107!==c&&0<W.length&&(M=1,W+="\0"),0<x*j&&a(0,W,r,e,k,T,z.length,c,h,c),T=1,k++;break;case 59:case 125:if(0===O+R+_+S){T++;break}default:switch(T++,y=u.charAt(B),d){case 9:case 32:if(0===R+S+O)switch(I){case 44:case 58:case 9:case 32:y="";break;default:32!==d&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===R+O+S&&(M=L=1,y="\f"+y);break;case 108:if(0===R+O+S+A&&0<U)switch(B-U){case 2:112===I&&58===u.charCodeAt(B-3)&&(A=I);case 8:111===N&&(A=N)}break;case 58:0===R+O+S&&(U=B);break;case 44:0===O+_+R+S&&(M=1,y+="\r");break;case 34:case 39:0===O&&(R=R===d?0:0===R?d:R);break;case 91:0===R+O+_&&S++;break;case 93:0===R+O+_&&S--;break;case 41:0===R+O+S&&_--;break;case 40:if(0===R+O+S){if(0===p)switch(2*I+3*N){case 533:break;default:p=1}_++}break;case 64:0===O+_+R+S+U+g&&(g=1);break;case 42:case 47:if(!(0<R+S+_))switch(O){case 0:switch(2*d+3*u.charCodeAt(B+1)){case 235:O=47;break;case 220:G=B,O=42}break;case 42:47===d&&42===I&&G+2!==B&&(33===u.charCodeAt(G+2)&&(z+=u.substring(G,B+1)),y="",O=0)}}0===O&&(W+=y)}N=I,I=d,B++}if(0<(G=z.length)){if(M=r,0<x&&(void 0!==(v=a(2,z,M,e,k,T,G,c,h,c))&&0===(z=v).length))return V+z+K;if(z=M.join(",")+"{"+z+"}",0!==P*A){switch(2!==P||o(z,2)||(A=0),A){case 111:z=z.replace(E,":-moz-$1")+z;break;case 112:z=z.replace(m,"::-webkit-input-$1")+z.replace(m,"::-moz-$1")+z.replace(m,":-ms-input-$1")+z}A=0}}return V+z+K}function n(e,t,n){var i=t.trim().split(g);t=i;var o=i.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?"":e[0]+" ";a<o;++a)t[a]=r(e,t[a],n).trim();break;default:var u=a=0;for(t=[];a<o;++a)for(var c=0;c<s;++c)t[u++]=r(e[c]+" ",i[a],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var s=e+";",a=2*t+3*n+4*r;if(944===a){e=s.indexOf(":",9)+1;var u=s.substring(e,s.length-1).trim();return u=s.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(I,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return p.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(t=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=s.replace(v,"tb");break;case 232:u=s.replace(v,"tb-rl");break;case 220:u=s.replace(v,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,a=(u=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(O,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(O,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===R.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+r&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),U(2!==t?r:r.replace(_,"$1"),n,t)}function s(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(S," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,s,a,u,f){for(var l,h=0,p=t;h<x;++h)switch(l=N[h].call(c,e,p,n,r,i,o,s,a,u,f)){case void 0:case!1:case!0:case null:break;default:p=l}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(U=null,e?"function"!==typeof e?P=1:(P=2,U=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<x){var i=a(-1,n,r,r,k,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(C,r,n,0,0);return 0<x&&(void 0!==(i=a(-2,o,r,r,k,T,o.length,0,0,0))&&(o=i)),"",A=0,T=k=1,o}var f=/^\0+/g,l=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,g=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,w=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,E=/:(read-only)/g,v=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,O=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,R=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,k=1,A=0,P=1,C=[],N=[],x=0,U=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:x=N.length=0;break;default:if("function"===typeof t)N[x++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},u=n(31938),c=n(99362),f=n(73463),l=n.n(f),h=n(34406);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},y=Object.freeze([]),w=Object.freeze({});function m(e){return"function"==typeof e}function E(e){return e.displayName||e.name||"Component"}function v(e){return e&&"string"==typeof e.styledComponentId}var b="undefined"!=typeof h&&(h.env.REACT_APP_SC_ATTR||h.env.SC_ATTR)||"data-styled",S="5.3.3",O="undefined"!=typeof window&&"HTMLElement"in window,_=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof h&&void 0!==h.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==h.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==h.env.REACT_APP_SC_DISABLE_SPEEDY&&h.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof h&&void 0!==h.env.SC_DISABLE_SPEEDY&&""!==h.env.SC_DISABLE_SPEEDY&&("false"!==h.env.SC_DISABLE_SPEEDY&&h.env.SC_DISABLE_SPEEDY)),R={};function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var T=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&I(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=0,u=t.length;a<u;a++)this.tag.insertRule(s,t[a])&&(this.groupSizes[e]++,s++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),k=new Map,A=new Map,P=1,C=function(e){if(k.has(e))return k.get(e);for(;A.has(P);)P++;var t=P++;return k.set(e,t),A.set(t,e),t},N=function(e){return A.get(e)},x=function(e,t){t>=P&&(P=t+1),k.set(e,t),A.set(t,e)},U="style["+b+'][data-styled-version="5.3.3"]',j=new RegExp("^"+b+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),B=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},M=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var a=s.match(j);if(a){var u=0|parseInt(a[1],10),c=a[2];0!==u&&(x(c,u),B(e,c,a[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(s)}}},L=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},G=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(b))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(b,"active"),r.setAttribute("data-styled-version","5.3.3");var s=L();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},D=function(){function e(e){var t=this.element=G(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}I(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),F=function(){function e(e){var t=this.element=G(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),W=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),z=O,K={isServer:!O,useCSSOMInjection:!_},V=function(){function e(e,t,n){void 0===e&&(e=w),void 0===t&&(t={}),this.options=p({},K,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&O&&z&&(z=!1,function(e){for(var t=document.querySelectorAll(U),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(b)&&(M(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return C(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new W(i):r?new D(i):new F(i),new T(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(C(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(C(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(C(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=N(i);if(void 0!==o){var s=e.names.get(o),a=t.getGroup(i);if(s&&a&&s.size){var u=b+".g"+i+'[id="'+o+'"]',c="";void 0!==s&&s.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+a+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),$=/(a)(d)/gi,q=function(e){return String.fromCharCode(e+(e>25?39:97))};function H(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=q(t%52)+n;return(q(t%52)+n).replace($,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return Y(5381,e)};function Z(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!v(n))return!1}return!0}var J=Q("5.3.3"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Z(e),this.componentId=t,this.baseHash=Y(J,t),this.baseStyle=n,V.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=me(this.rules,e,t,n).join(""),s=H(Y(this.baseHash,o)>>>0);if(!t.hasNameForId(r,s)){var a=n(o,"."+s,void 0,r);t.insertRules(r,s,a)}i.push(s),this.staticRulesId=s}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),f="",l=0;l<u;l++){var h=this.rules[l];if("string"==typeof h)f+=h;else if(h){var p=me(h,e,t,n),d=Array.isArray(p)?p.join(""):p;c=Y(c,d+l),f+=d}}if(f){var g=H(c>>>0);if(!t.hasNameForId(r,g)){var y=n(f,"."+g,void 0,r);t.insertRules(r,g,y)}i.push(g)}}return i.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,i,o=void 0===e?w:e,s=o.options,u=void 0===s?w:s,c=o.plugins,f=void 0===c?y:c,l=new a(u),h=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,s,a,u,c,f,l){switch(n){case 1:if(0===f&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===l?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==te.indexOf(o[n.length])||o.match(i)?e:"."+t};function g(e,o,s,a){void 0===a&&(a="&");var u=e.replace(ee,""),c=o&&s?s+" "+o+" { "+u+" }":u;return t=a,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(s||!o?"":o,c)}return l.use([].concat(f,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},p,function(e){if(-2===e){var t=h;return h=[],t}}])),g.hash=f.length?f.reduce((function(e,t){return t.name||I(15),Y(e,t.name)}),5381).toString():"",g}var re=i.createContext(),ie=re.Consumer,oe=i.createContext(),se=(oe.Consumer,new V),ae=ne();function ue(){return(0,i.useContext)(re)||se}function ce(){return(0,i.useContext)(oe)||ae}function fe(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ue(),a=(0,i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(re.Provider,{value:a},i.createElement(oe.Provider,{value:u},e.children))}var le=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ae);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return I(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ae),this.name+e.hash},e}(),he=/([A-Z])/,pe=/([A-Z])/g,de=/^ms-/,ge=function(e){return"-"+e.toLowerCase()};function ye(e){return he.test(e)?e.replace(pe,ge).replace(de,"-ms-"):e}var we=function(e){return null==e||!1===e||""===e};function me(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],s=0,a=e.length;s<a;s+=1)""!==(i=me(e[s],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return we(e)?"":v(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:me(e(t),t,n,r):e instanceof le?n?(e.inject(n,r),e.getName(r)):e:g(e)?function e(t,n){var r,i,o=[];for(var s in t)t.hasOwnProperty(s)&&!we(t[s])&&(Array.isArray(t[s])&&t[s].isCss||m(t[s])?o.push(ye(s)+":",t[s],";"):g(t[s])?o.push.apply(o,e(t[s],s)):o.push(ye(s)+": "+(r=s,(null==(i=t[s])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}var Ee=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||g(e)?Ee(me(d(y,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Ee(me(d(e,n)))}new Set;var be=function(e,t,n){return void 0===n&&(n=w),e.theme!==n.theme&&e.theme||t||n.theme},Se=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Oe=/(^-|-$)/g;function _e(e){return e.replace(Se,"-").replace(Oe,"")}var Re=function(e){return H(Q(e)>>>0)};function Ie(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},ke=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ae(e,t,n){var r=e[n];Te(t)&&Te(r)?Pe(r,t):e[n]=t}function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(Te(s))for(var a in s)ke(a)&&Ae(e,s[a],a)}return e}var Ce=i.createContext(),Ne=Ce.Consumer;function xe(e){var t=(0,i.useContext)(Ce),n=(0,i.useMemo)((function(){return function(e,t){return e?m(e)?e(t):Array.isArray(e)||"object"!=typeof e?I(8):t?p({},t,{},e):e:I(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Ce.Provider,{value:n},e.children):null}var Ue={};function je(e,t,n){var r=v(e),o=!Ie(e),s=t.attrs,a=void 0===s?y:s,u=t.componentId,f=void 0===u?function(e,t){var n="string"!=typeof e?"sc":_e(e);Ue[n]=(Ue[n]||0)+1;var r=n+"-"+Re("5.3.3"+n+Ue[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,h=t.displayName,d=void 0===h?function(e){return Ie(e)?"styled."+e:"Styled("+E(e)+")"}(e):h,g=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||f,b=r&&e.attrs?Array.prototype.concat(e.attrs,a).filter(Boolean):a,S=t.shouldForwardProp;r&&e.shouldForwardProp&&(S=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var O,_=new X(n,g,r?e.componentStyle:void 0),R=_.isStatic&&0===a.length,I=function(e,t){return function(e,t,n,r){var o=e.attrs,s=e.componentStyle,a=e.defaultProps,u=e.foldedComponentIds,f=e.shouldForwardProp,l=e.styledComponentId,h=e.target,d=function(e,t,n){void 0===e&&(e=w);var r=p({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,s=e;for(t in m(s)&&(s=s(r)),s)r[t]=i[t]="className"===t?(n=i[t],o=s[t],n&&o?n+" "+o:n||o):s[t]})),[r,i]}(be(t,(0,i.useContext)(Ce),a)||w,t,o),g=d[0],y=d[1],E=function(e,t,n,r){var i=ue(),o=ce();return t?e.generateAndInjectStyles(w,i,o):e.generateAndInjectStyles(n,i,o)}(s,r,g),v=n,b=y.$as||t.$as||y.as||t.as||h,S=Ie(b),O=y!==t?p({},t,{},y):t,_={};for(var R in O)"$"!==R[0]&&"as"!==R&&("forwardedAs"===R?_.as=O[R]:(f?f(R,c.Z,b):!S||(0,c.Z)(R))&&(_[R]=O[R]));return t.style&&y.style!==t.style&&(_.style=p({},t.style,{},y.style)),_.className=Array.prototype.concat(u,l,E!==l?E:null,t.className,y.className).filter(Boolean).join(" "),_.ref=v,(0,i.createElement)(b,_)}(O,e,t,R)};return I.displayName=d,(O=i.forwardRef(I)).attrs=b,O.componentStyle=_,O.displayName=d,O.shouldForwardProp=S,O.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,O.styledComponentId=g,O.target=r?e.target:e,O.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Ie(e)?e:_e(E(e)));return je(e,p({},i,{attrs:b,componentId:o}),n)},Object.defineProperty(O,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Pe({},e.defaultProps,t):t}}),O.toString=function(){return"."+O.styledComponentId},o&&l()(O,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),O}var Be=function(e){return function e(t,n,i){if(void 0===i&&(i=w),!(0,r.isValidElementType)(n))return I(1,String(n));var o=function(){return t(n,i,ve.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,p({},i,{},r))},o.attrs=function(r){return e(t,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(je,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Be[e]=Be(e)}));var Me=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Z(e),V.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(me(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&V.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ve.apply(void 0,[e].concat(n)),s="sc-global-"+Re(JSON.stringify(o)),a=new Me(o,s);function u(e){var t=ue(),n=ce(),r=(0,i.useContext)(Ce),o=(0,i.useRef)(t.allocateGSInstance(s)).current;return t.server&&c(o,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(o,e,t,r,n),function(){return a.removeStyles(o,t)}}),[o,e,t,r,n]),null}function c(e,t,n,r,i){if(a.isStatic)a.renderStyles(e,R,n,i);else{var o=p({},t,{theme:be(t,r,u.defaultProps)});a.renderStyles(e,o,n,i)}}return i.memo(u)}function Ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ve.apply(void 0,[e].concat(n)).join(""),o=Re(i);return new le(o,i)}var De=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',b+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?I(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return I(2);var n=((t={})[b]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[i.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new V({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?I(2):i.createElement(fe,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return I(3)},e}(),Fe=function(e){var t=i.forwardRef((function(t,n){var r=(0,i.useContext)(Ce),o=e.defaultProps,s=be(t,r,o);return i.createElement(e,p({},t,{theme:s,ref:n}))}));return l()(t,e),t.displayName="WithTheme("+E(e)+")",t},We=function(){return(0,i.useContext)(Ce)},ze={StyleSheet:V,masterSheet:se},Ke=Be},27562:function(e){"use strict";e.exports=JSON.parse('{"name":"@civic/solana-gateway-react","version":"0.4.14-beta.1","main":"./dist/cjs/index.js","module":"./dist/esm/index.js","types":"./dist/esm/index.d.ts","repository":"git@github.com:civicteam/ociv-gatekeeper.git","dependencies":{"@identity.com/prove-solana-wallet":"^0.2.3","@identity.com/solana-gateway-ts":"^0.7.0","@solana/web3.js":"^1.33.0","@types/styled-components":"^5.1.15","fetch-retry-ts":"^1.1.24","iframe-resizer-react":"^1.1.0","ramda":"^0.27.1","styled-components":"^5.3.1"},"peerDependencies":{"react":"^17.0.2","react-dom":"^17.0.2"},"scripts":{"test":"yarn lint && SKIP_PREFLIGHT_CHECK=true TEST_RETRY_MULTIPLIER=0.01 react-scripts test --env=./src/custom-env.js --testMatch \'**/*.test.{ts,tsx}\' --roots ./test","lint":"eslint \'{src,test}/**/*.ts\' --max-warnings 0","lint:fix":"yarn lint --fix","clean":"rm -rf ./dist","build":"yarn clean && yarn build:esm && yarn build:cjs","build:esm":"tsc --noEmit false --outDir dist/esm -p tsconfig.build.json","build:cjs":"tsc --noEmit false --module commonjs --outDir dist/cjs -p tsconfig.build.json","prepare":"yarn build","script":"ts-node -O \'{\\"module\\":\\"commonjs\\"}\' --transpile-only --files"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^11.1.0","@testing-library/react-hooks":"^7.0.2","@testing-library/user-event":"^12.1.10","@types/bs58":"^4.0.1","@types/fetch-mock":"^7.3.5","@types/jest":"^26.0.15","@types/mocha":"^8.2.3","@types/node":"^12.0.0","@types/node-fetch":"^2.5.12","@types/react":"^17.0.0","@types/react-addons-test-utils":"^0.14.26","@types/react-dom":"^17.0.0","@types/react-modal":"^3.12.1","@types/react-router-dom":"^5.1.8","@types/react-test-renderer":"^17.0.1","awscred":"^1.5.0","axios":"^0.21.1","bs58":"^4.0.1","copyfiles":"^2.4.1","csstype":"^3.0.9","enzyme":"^3.11.0","eslint":"^7.2.0","eslint-config-airbnb":"18.2.1","eslint-config-airbnb-typescript":"^12.3.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.22.1","eslint-plugin-jest":"^24.3.6","eslint-plugin-jsx-a11y":"^6.4.1","eslint-plugin-prettier":"^3.4.0","eslint-plugin-react":"^7.21.5","eslint-plugin-react-hooks":"^1.7.0","jest-cucumber":"^3.0.1","jest-environment-jsdom":"^27.0.6","jest-environment-jsdom-sixteen":"^2.0.0","jest-environment-uint8array":"^1.0.0","node-fetch":"^2.6.1","prettier":"^2.3.2","react":"^17.0.2","react-dom":"^17.0.2","react-scripts":"^4.0.3","react-test-renderer":"^17.0.2","rimraf":"^3.0.2","ts-jest":"^26.1.4","ts-node":"^10.1.0","typescript":"^4.1.2"},"files":["/dist"]}')}}]);